# è®¤è¯†é«˜é˜¶ç»„ä»¶

é«˜é˜¶ç»„é—´è¿™ä¸ªåå­—å¬ä¸Šå»å¥½åƒå¾ˆå¤æ‚ï¼Œä½†å…¶å®ä¸ç„¶ï¼Œç”¨ä¸€å¥è¯å°±èƒ½æ¦‚æ‹¬ï¼š

â­é«˜é˜¶ç»„ä»¶æœ¬èº«æ˜¯ä¸€ä¸ª**å‡½æ•°**ï¼Œè¯¥å‡½æ•°çš„å‚æ•°ä¸º**ç»„ä»¶**ï¼Œä¸”è¯¥å‡½æ•°**è¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶**ã€‚

* é«˜é˜¶ç»„ä»¶çš„è‹±æ–‡æ˜¯ **Higher-Order Components**ï¼Œç®€ç§°ä¸º `HOC`ï¼›

é«˜é˜¶ç»„ä»¶çš„è°ƒç”¨è¿‡ç¨‹ç±»ä¼¼äºè¿™æ ·ï¼š

* `higherOrderComponent`å‡½æ•°ï¼Œå°±æ˜¯æ‰€è°“çš„é«˜é˜¶ç»„ä»¶ï¼Œä½†å…¶æœ¬èº«å¹¶ä¸æ˜¯ç»„ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚
* æˆ‘ä»¬ä¸ºå‡½æ•°ä¼ å…¥ä¸€ä¸ªç»„ä»¶`WrappedComponent`ï¼Œé€šè¿‡è¿™ä¸ªå‡½æ•°çš„æ‰§è¡Œï¼Œå»ç”Ÿäº§ä¸€ä¸ªä¸ä¼ å…¥ç»„ä»¶`WrappedComponent`æœ‰å…³è”çš„æ–°ç»„ä»¶ã€‚

```
const EnhancedComponent = higherOrderComponent(WrappedComponent);
```

# ç¼–å†™é«˜é˜¶ç»„ä»¶

å¦‚æœç†è§£äº†ä¸Šæ–‡å¯¹**é«˜é˜¶ç»„ä»¶**çš„ä»‹ç»ï¼Œæˆ‘ä»¬å°±èƒ½å¾ˆå®¹æ˜“çš„ç¼–å†™å‡ºè¿™ä¸ª**å‡½æ•°**ï¼š

* æ¥æ”¶ä¸€ä¸ªç»„ä»¶ï¼Œæœ€åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶

```
function higherOrderComponent(WrapperComponent) {
  return class NewComponent extends PureComponent {
    render() {
      return <WrapperComponent />;
    }
  };
}
```

ä¸Šè¿°ä»£ç è¿”å›çš„æ˜¯`classç»„ä»¶`ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯è¿”å›ä¸€ä¸ªå‡½æ•°ç»„ä»¶

```
function higherOrderComponent(WrapperComponent) {
  let NewComponent = () => <WrapperComponent />;
  return NewComponent;
}
```

æˆ‘ä»¬è¯•ç€è®©å…¶å¤„ç†ä¸€ä¸‹æŸä¸ªç»„ä»¶(App)

```
import React, { PureComponent } from "react";

class App extends PureComponent {
  render() {
    return (
      <main>
        <h2>App</h2>
      </main>
    );
  }
}
function higherOrderComponent(WrapperComponent) {
  return class NewComponent extends PureComponent {
    render() {
      return <WrapperComponent />;
    }
  };
}
let EnhanceApp = higherOrderComponent(App);
export default EnhanceApp;
```

ç»“æœå¦‚å›¾ï¼š

<img src="é«˜é˜¶ç»„ä»¶.assets/001.png" alt="001" style="zoom:80%;border:1px solid"/>

ä¸æˆ‘ä»¬çš„æ“ä½œç›¸ç¬¦ï¼Œåœ¨Appç»„ä»¶çš„å¤–éƒ¨ï¼ŒåŒ…è£¹äº† `NewComponent` ç»„ä»¶ã€‚

ä½†è¿™ä¸ª`åŒ…è£¹ç»„ä»¶`çš„åç§°æ˜¯å†™æ­»çš„ï¼Œåœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›è¿™ä¸ªåç§°æ˜¯è‡ªå®šä¹‰çš„ã€è¯­ä¹‰åŒ–çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`displayName`å±æ€§æ›´æ”¹å±•ç¤ºçš„åç§°ã€‚

## displayName

ä¸è®º`å‡½æ•°ç»„ä»¶`ã€`classç»„ä»¶`ï¼Œæˆ‘ä»¬éƒ½å¯é€šè¿‡`displayName`å»æ›´æ”¹ç»„ä»¶å±•ç¤ºçš„åç§°ã€‚

**classç»„ä»¶**

```
function higherOrderComponent(
  WrapperComponent,
  cpnName = "NewHigherOrderComponent"
) {
  const NewComponent = class extends PureComponent {
    render() {
      return <WrapperComponent />;
    }
  };
  NewComponent.displayName = cpnName;
  return NewComponent;
}
```

**å‡½æ•°ç»„ä»¶**

```
function higherOrderComponent(
  WrapperComponent,
  cpnName = "NewHigherOrderComponent"
) {
  const NewComponent = () => <WrapperComponent />;
  NewComponent.displayName = cpnName;
  return NewComponent;
}
```

ä½¿ç”¨ç»“æœï¼š

```
â€¦â€¦
let EnhanceApp = higherOrderComponent(App, "EnhanceApp");
export default EnhanceApp;
```

<img src="é«˜é˜¶ç»„ä»¶.assets/002.png" alt="002" style="zoom:80%;border:1px solid"/>

# é«˜é˜¶ç»„ä»¶çš„ä½œç”¨

â€‹	ä¸Šæ–‡æˆ‘ä»¬äº†è§£äº†ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶ã€åˆè¯¥å¦‚ä½•å®šä¹‰ã€‚ä½†å¥½åƒçœ‹ä¸å‡ºé«˜é˜¶ç»„ä»¶çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬ä»…ä»…æ˜¯åœ¨ç›®æ ‡ç»„ä»¶çš„åŸºç¡€ä¸ŠåŒ…è£¹äº†ä¸€å±‚æ–°çš„ç»„ä»¶ã€‚

â€‹	ä¸Šæ–‡ä¸­é«˜é˜¶ç»„ä»¶çš„åº”ç”¨æ˜¯æœ€åŸºæœ¬çš„ï¼Œå¹¶æ²¡æœ‰åœ¨æ–°ç»„ä»¶ä¸­åšä¸€äº›æ‰©å……æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–°ç»„ä»¶ä¸­è¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œï¼Œè€Œè¿™äº›æ“ä½œå®é™…ä¸Šå°±æ˜¯**å¯¹ç›®æ ‡ç»„ä»¶çš„æ‹¦æˆª**

æˆ‘ä»¬å¯ä»¥å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š

* å¯¹`props`çš„æ‹¦æˆª
  * propsçš„æ‰©å……
  * Contextå…±äº«props

* å¯¹`JSX`çš„æ‹¦æˆª
  * æ¸²æŸ“åˆ¤æ–­é‰´æƒ
* å¯¹ç”Ÿå‘½å‘¨æœŸçš„æ‹¦æˆª

## propsçš„æ‰©å……

é€šè¿‡é«˜é˜¶ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ï¼š**ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œæ·»åŠ æ–°çš„props**

ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼š

* Headeræ˜¯Appçš„å­ç»„ä»¶
* Headeréœ€è¦å±•ç¤ºAppç»„ä»¶ä¼ å…¥çš„æ•°æ®ï¼Œç›®å‰åªæœ‰nicknameã€age

```
import React, { PureComponent } from "react";

export default class App extends PureComponent {
  render() {
    return (
      <main>
        <h2>App</h2>
        <Header nickname="Ashun" age={18} />
      </main>
    );
  }
}

class Header extends PureComponent {
  render() {
    const { nickname, age } = this.props;
    return (
      <div id="header">
        <h2>Header</h2>
        <h3>{`æ˜µç§°:${nickname} å¹´é¾„:${age}`}</h3>
      </div>
    );
  }
}
```

ä½†å¦‚æœåæœŸé¡¹ç›®æ„ˆæ¥å¤æ‚ï¼Œéœ€è¦å±•ç¤ºçš„æ•°æ®å˜å¾—æ›´å¤šï¼Œæˆ‘ä»¬éœ€è¦ä»¥ä¸‹æ“ä½œæ‰èƒ½å®Œæˆï¼š

1. æ›´æ”¹Appç»„ä»¶ï¼Œå‘Headeræ ‡ç­¾ä¼ å…¥æ›´å¤šçš„ä¿¡æ¯
2. æ›´æ”¹Headerç»„ä»¶ï¼Œå±•ç¤ºæ–°å¢ä¿¡æ¯

å¹¶ä¸”é¡¹ç›®é€æ­¥åºå¤§ï¼Œå„ä¸ªç»„ä»¶ä¼šæŠ½ç¦»ä¸ºå•ç‹¬çš„ js æ–‡ä»¶ï¼Œå¦‚æœç»è¿‡ä¸Šè¿°æ“ä½œï¼Œè¿˜éœ€è¦åœ¨ä¸åŒçš„ js æ–‡ä»¶ä¹‹é—´è·³è½¬ã€æ‰¾åˆ°ç¡®å®šçš„ä½ç½®å†ä¿®æ”¹ã€‚è¿‡ç¨‹å¾ˆæ˜¯ç¹çï¼Œä¹Ÿä¸åˆ©äºç»´æŠ¤ã€‚

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨é«˜é˜¶ç»„ä»¶æ¥å®ŒæˆğŸ‘‡

* å®šä¹‰ä¸€ä¸ªé«˜é˜¶ç»„ä»¶`enhanceProps`ï¼Œä¸“é—¨ç”¨äºæ‰©å……Props

```
function enhanceProps(WrapperComponent, otherProps, cpnName = "enhanceProps") {
  let NewComponent = (props) => <WrapperComponent {...props} {...otherProps} />;
  NewComponent.displayName = cpnName;
  return NewComponent;
}
```

* åˆ©ç”¨é«˜é˜¶ç»„ä»¶ï¼Œç”Ÿæˆæ–°çš„Headerç»„ä»¶ï¼ˆæ‰©å……äº†èº«é«˜`height`ä¿¡æ¯ï¼‰

```
let EnhanceHeader = enhanceProps(Header, { height: 180 });
```

* åœ¨Appä¸­ä½¿ç”¨å¢å¼ºåçš„Headerç»„ä»¶

```
export default class App extends PureComponent {
  render() {
    return (
      <main>
        <h2>App</h2>
        <EnhanceHeader nickname="Ashun" age={18} />
      </main>
    );
  }
}
```

* åœ¨Headerç»„ä»¶ä¸­å±•ç¤ºæ–°å¢æ•°æ®

```
class Header extends PureComponent {
  render() {
    const { nickname, age, height } = this.props;
    return (
      <div id="header">
        <h2>Header</h2>
        <h3>{`æ˜µç§°:${nickname} å¹´é¾„:${age} èº«é«˜:${height}`}</h3>
      </div>
    );
  }
}
```

ç»è¿‡è¿™äº›æ­¥éª¤ï¼Œå³å¯å®ŒæˆPropsçš„å¢å¼ºã€‚

ä½ å¯èƒ½ä¼šç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆè¿™äº›æ­¥éª¤è¿™ä¹ˆç¹çï¼Œè¿˜ä¸å¦‚ç›´æ¥æ›´æ”¹Appã€Headerç»„ä»¶ã€‚

é‚£æ˜¯å› ä¸ºä¸Šæ–‡æ‰€ä¸¾çš„æ¡ˆåˆ—è¿‡äºç®€å•ï¼ˆä¸ºäº†æ›´å¥½çš„ç†è§£ï¼‰ï¼Œåªæ¶‰åŠåˆ°äº†ä¸€ä¸ªHeaderç»„ä»¶çš„propsæ‰©å……ã€‚

* å¦‚æœæœ‰å¾ˆå¤šç»„ä»¶éƒ½è¦è¿›è¡Œæ‰©å……å‘¢ï¼Ÿ
* æ‰©å……çš„æ•°æ®é‡å¾ˆå¤§å‘¢ï¼Ÿ

è¿™æ—¶å°±èƒ½å‘æŒ¥é«˜é˜¶å‡½æ•°çš„ä½œç”¨äº†ï¼Œæˆ‘ä»¬åªéœ€è¦å¤ç”¨`enhanceProps`é«˜é˜¶ç»„ä»¶ï¼Œå»ç”Ÿæˆæ‰©å……äº†propsçš„ç›®æ ‡ç»„ä»¶ï¼Œç„¶ååœ¨Appä¸­ä½¿ç”¨å³å¯ã€‚

## Contextå…±äº«props

â€‹	åœ¨å®é™…å¼€å‘ä¸­æˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼šå¤šä¸ªç»„ä»¶éƒ½éœ€è¦å±•ç¤ºä¸€äº›ç›¸åŒçš„ä¿¡æ¯ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥åˆ©ç”¨`Context`å°†è¿™äº›çŠ¶æ€å…±äº«å‡ºå»ï¼Œä½†è¿™è¿˜ä¼šé€ æˆä¸€ä¸ªé—®é¢˜ï¼š

â€‹	è¿™äº›ä½¿ç”¨`Context`çš„ç»„ä»¶ï¼Œéƒ½è¦åœ¨å¤–éƒ¨åŒ…è£¹`<myContext.Consumer />`ç»„ä»¶ï¼Œå¹¶é€šè¿‡å‡½æ•°å‚æ•°ä¼ å…¥`context`ä¿¡æ¯ï¼Œå¦‚æœæœ‰10ä¸ªç»„ä»¶éƒ½è¦åº”ç”¨`myContext`,æˆ‘ä»¬å°±è¦ä¸æ–­çš„é‡å¤è¿™ä¸ªæ“ä½œï¼Œæœ‰æ²¡æœ‰åŠæ³•å°†è¿™äº›é‡å¤çš„æ­¥éª¤æŠ½ç¦»å‡ºå»å‘¢ï¼Ÿ

ç­”æ¡ˆæ˜¯æœ‰çš„ï¼Œæˆ‘ä»¬ä¾æ—§å¯ä»¥åˆ©ç”¨**é«˜é˜¶ç»„ä»¶**å®Œæˆã€‚

ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼š

* å°è£…é«˜é˜¶ç»„ä»¶**å‡½æ•°**ï¼Œé€šè¿‡ä¼ å…¥çš„å‚æ•°ï¼Œè®©`<Context.Consumer/>`åŒ…è£¹ç›®æ ‡ç»„ä»¶ï¼Œå¹¶å®Œæˆ`context`çš„ä¼ é€’
* **å€¼å¾—æ³¨æ„çš„æ˜¯**ï¼š`Context`ä¸­çš„å„ä¸ªçŠ¶æ€ï¼Œæœ€åéƒ½ä¼šä»¥`props`çš„å½¢å¼ï¼Œä¼ å…¥åˆ°ç›®æ ‡ç»„ä»¶ä¸­ã€‚

```
import React, { createContext, PureComponent } from "react";
//å°è£…é«˜é˜¶ç»„ä»¶
function shareContext(WrapperComponent, Context, cpnName = "shareContext") {
  let NewComponent = (props) => (
    <Context.Consumer>
      {(context) => <WrapperComponent {...props} {...context} />}
    </Context.Consumer>
  );
  NewComponent.displayName = cpnName;
  return NewComponent;
}

//Headerç»„ä»¶
class Header extends PureComponent {
  render() {
    const { nickname, age, height, title } = this.props;
    return (
      <div id="header">
        <h2>Header</h2>
        <h3>{`æ˜µç§°:${nickname} å¹´é¾„:${age} èº«é«˜:${height}`}</h3>
        <h4>title:{title}</h4>
      </div>
    );
  }
}

//Footerç»„ä»¶
class Footer extends PureComponent {
  render() {
    const { title } = this.props;
    return (
      <div id="header">
        <h2>Footer</h2>
        <h4>title:{title}</h4>
      </div>
    );
  }
}

//åˆ›å»ºConetxtå¹¶è®¾ç½®é»˜è®¤å€¼
const myContext = createContext({
  title: "é»˜è®¤å€¼",
  height: -1,
});
//ä½¿ç”¨é«˜é˜¶ç»„ä»¶ç”Ÿæˆæ–°ç»„å»º
let EnhanceHeader = shareContext(Header, myContext);
let EnhanceFooter = shareContext(Footer, myContext);

//åœ¨Appç»„ä»¶ä¸­ä½¿ç”¨
export default class App extends PureComponent {
  render() {
    return (
      <main>
        <myContext.Provider value={{ title: "Ashuntefannao", height: 180 }}>
          <h2>App</h2>
          <EnhanceHeader nickname="Ashun" age={18} />
          <EnhanceFooter />
        </myContext.Provider>
      </main>
    );
  }
}
```

## æ¸²æŸ“åˆ¤æ–­é‰´æƒ

åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½é‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼š

- ä¸€äº›é¡µé¢æ˜¯å¿…é¡»ç”¨æˆ·ç™»å½•æˆåŠŸæ‰èƒ½è¿›è¡Œè¿›å…¥ï¼›
- å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•æˆåŠŸï¼Œé‚£ä¹ˆç›´æ¥è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼›

è¿™æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨é«˜é˜¶ç»„ä»¶æ¥å®Œæˆ**é‰´æƒæ“ä½œ**ï¼š

ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼š

* é‰´æƒçš„é«˜é˜¶ç»„ä»¶

```
function loginPower(Page, cpnName = "loginPower") {
  let NewComponent = (props) => {
    if (props.isLogin) {
      return <Page />;
    } else {
      return <LoginPage />;
    }
  };
  NewComponent.displayName = cpnName;
  return NewComponent;
}
```

å®Œæ•´ä»£ç ï¼š

```
import React, { PureComponent } from "react";
//è´­ç‰©è½¦é¡µé¢
class Cart extends PureComponent {
  render() {
    return (
      <div id="Cart">
        <h2>Cart</h2>
      </div>
    );
  }
}
//ç™»é™†é¡µé¢
class LoginPage extends PureComponent {
  render() {
    return (
      <div id="LoginPage">
        <h2>LoginPage</h2>
      </div>
    );
  }
}
//é‰´æƒé«˜é˜¶ç»„ä»¶
function loginPower(Page, cpnName = "loginPower") {
  let NewComponent = (props) => {
    if (props.isLogin) {
      return <Page />;
    } else {
      return <LoginPage />;
    }
  };
  NewComponent.displayName = cpnName;
  return NewComponent;
}
//ç”Ÿæˆé‰´æƒç»„ä»¶
let LoginPowerCart = loginPower(Cart);
//åœ¨Appä¸­ä½¿ç”¨
export default class App extends PureComponent {
  render() {
    return (
      <main>
        <h2>App</h2>
        <LoginPowerCart isLogin={false} />
      </main>
    );
  }
}
```

## ç”Ÿå‘½å‘¨æœŸæ‹¦æˆª

â€‹	åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåœ¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­é¢‘ç¹çš„åšä¸€äº›ç›¸åŒçš„æ“ä½œï¼Œä¾‹å¦‚ï¼šæµ‹è¯•ç»„ä»¶çš„æ¸²æŸ“æ—¶é—´ï¼Œæ¥è¯„ä¼°ä»£ç æ€§èƒ½ã€‚

â€‹	å¦‚æœæˆ‘ä»¬éœ€è¦æµ‹è¯•éå¸¸å¤šçš„ç»„ä»¶ï¼Œæˆ‘ä»¬å°±è¦ä¸æ–­çš„åœ¨å„ä¸ªç»„ä»¶çš„`UNSAFE_componentWillMount`ã€`componentDidMount`ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­å‹å…¥æµ‹è¯•æ—¶é—´çš„ä»£ç ï¼Œè¿‡ç¨‹ç¹çã€ä¸åˆ©äºç»´æŠ¤ã€‚

â€‹	æˆ‘ä»¬ä¹Ÿå¯åˆ©ç”¨é«˜é˜¶ç»„ä»¶ï¼Œåœ¨`å¤–å±‚åŒ…è£¹ç»„ä»¶`ä¸­å®Œæˆæ¸²æŸ“æ—¶é—´çš„æµ‹è¯•ã€‚

**å®é™…ä»£ç ä½“éªŒ**ï¼š

* å¯ä»¥é€šè¿‡ç»„ä»¶çš„`name`å±æ€§ï¼Œè·å–ç»„ä»¶çš„åç§°

```
import React, { PureComponent } from "react";
//é«˜é˜¶å‡½æ•°çš„å®šä¹‰
function logRenderTime(WrapperComponent, cpnName = "logRenderTime") {
  let NewComponent = class extends PureComponent {
    constructor() {
      super();
      this.state = {
        startTime: 0,
      };
    }
    UNSAFE_componentWillMount() {
      this.setState({
        startTime: new Date().getTime(),
      });
    }
    componentDidMount() {
    	const name = WrapperComponent.name;
      let time = new Date().getTime() - this.state.startTime;
      console.log(`${name}æ¸²æŸ“æ—¶é—´ï¼š${time}`);
    }
    render() {
      return <WrapperComponent />;
    }
  };
  NewComponent.displayName = cpnName;
  return NewComponent;
}

class Home extends PureComponent {
  render() {
    return (
      <div id="Home">
        <h2>Home</h2>
      </div>
    );
  }
}
class Detail extends PureComponent {
  render() {
    return (
      <div id="Detail">
        <h2>Detail</h2>
      </div>
    );
  }
}

let LogRenderTimeHome = logRenderTime(Home);
let LogRenderTimeDetail = logRenderTime(Detail);

export default class App extends PureComponent {
  render() {
    return (
      <main>
        <h2>App</h2>
        <LogRenderTimeHome />
        <LogRenderTimeDetail />
      </main>
    );
  }
}
```

# é«˜é˜¶ç»„ä»¶çš„æ„ä¹‰

### ä¼˜ç‚¹

* ç»è¿‡ä¸Šæ–‡çš„äº†è§£ï¼Œæˆ‘ä»¬å‘ç°ï¼šåˆ©ç”¨HOCå¯ä»¥è®©ä¸€äº›Reactä»£ç å˜å¾—æ›´åŠ ä¼˜é›…ã€‚
* æˆ‘ä»¬å¯ä»¥å®ç°å¯¹`props`ã€`JSX`ã€`ç”Ÿå‘½å‘¨æœŸ`çš„æ‹¦æˆªï¼Œæ¥å®Œæˆä¸€äº›åŠŸèƒ½ã€‚
* å½“ç„¶ï¼ŒHOC èƒ½å¤Ÿå®ç°çš„åŠŸèƒ½ä¸åªæ˜¯ä¸Šæ–‡è®²åˆ°çš„é‚£äº›ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå·±æ‰©å±•å…¶ä»–åŠŸèƒ½
  * ä¾‹å¦‚å¯¹`JSX`çš„æ‹¦æˆªï¼Œæˆ‘ä»¬å¯ä»¥åˆ¤æ–­è¯·æ±‚æ˜¯å¦å®Œæ¯•ï¼Œå†³å®šæ˜¯å¦æ¸²æŸ“`Loading`ç»„ä»¶ã€‚

### ç¼ºç‚¹

ä½†HOCå¹¶ä¸æ˜¯å®Œç¾çš„ï¼Œå®ƒä¹Ÿæœ‰ä¸€äº›ç¼ºé™·ï¼š

* åœ¨ä¸€ä¸ªç»„ä»¶ä¸Šå¤§é‡ä½¿ç”¨HOCï¼Œæ— ç–‘å°†ä¼šäº§ç”Ÿå¤§é‡çš„åµŒå¥—ï¼Œè¿™ä¼šè®©åæœŸçš„è°ƒè¯•å˜å¾—å›°éš¾
* å‰é¢è¯´åˆ°HOCå¯ä»¥åŠ«æŒpropsï¼Œä½†åœ¨ä¸éµå®ˆçº¦å®šçš„æƒ…å†µä¸‹ä¹Ÿä¼šé€ æˆå†²çª
  * ä¾‹ï¼šæ‰©å¼ çš„propså˜é‡åç§°ä¸åŸæ¥å·²ç»æ¥æ”¶çš„propså˜é‡é‡åï¼Œå°±ä¼šå¯¼è‡´åŸæ¥å·²ç»æ¥æ”¶çš„propsè¢«è¦†ç›–ã€‚

### æœªæ¥

Hooksçš„å‡ºç°ï¼Œè§£å†³äº†Reactå¾ˆå¤šä¹‹å‰å­˜åœ¨çš„é—®é¢˜ï¼š

* thisæŒ‡å‘é—®é¢˜
* å‡½æ•°ç»„ä»¶æ²¡æœ‰è‡ªèº«çŠ¶æ€çš„é—®é¢˜
* HOCåµŒå¥—å¤æ‚åº¦é—®é¢˜
* â€¦â€¦