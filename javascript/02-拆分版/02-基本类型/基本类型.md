---
title: åŸºæœ¬ç±»å‹
date: 2021-05-16 13:25:22
tags:
categories:
- [Webå‰ç«¯,JavaScriptå¤§æ€»ç»“]
---

## åŸºæœ¬ç±»å‹

>JavaScriptä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹æœ‰ï¼šbooleanã€nullã€undefinedã€numberã€stringã€symbolã€BigIntã€‚
>
>å¼•ç”¨ç±»å‹æœ‰ï¼šObjectã€Arrayã€Functionã€Matchã€Dateã€RegExpã€Setã€WeakSetã€Mapã€WeakMapâ€¦
>
>è¯¥æ ‡é¢˜æ‰€ç¤ºåŸºæœ¬ç±»å‹æ„ä¸º **æ–°æ‰‹åˆå§‹å­¦ä¹ ** çš„ä¸€äº›æ•°æ®ç±»å‹ã€‚

### ä¸€ã€ ç±»å‹æ£€æµ‹

#### 1.1 typeof

`typeof` èƒ½å¤Ÿæ­£ç¡®çš„è¿”å›ä»¥ä¸‹æ•°æ®ç±»å‹ï¼ˆåœ¨ä¸ä½¿ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–çš„å‰æä¸‹ï¼Œå¦åˆ™è¿”å›Objectï¼‰

* Numberã€Stringã€undefinedã€Objectã€Booleanã€function

  ```
  console.log(
          typeof 1,									//number 
          typeof "",								//string 
          typeof undefined,					//undefined 
          typeof {},								//object  
          typeof false,							//boolean 
          typeof function () {}			//function
  );
  ```

ä¸èƒ½æ­£ç¡®åˆ¤æ–­çš„æƒ…å†µï¼š

---ä½¿ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–ä¸ºå¯¹è±¡ï¼Œåˆ™è¿”å›Objectã€‚

```
let as = "Ashun";
let str = new String("Ashun"); 
console.log(typeof as, typeof str); //string object
```

---`typeof []`

```
console.log(typeof []);  //object
```

---å…³äº`typeof null==='object'`

é¦–å…ˆè¦è¯´æ˜çš„æ˜¯ï¼Œnull**ä¸æ˜¯!**å¯¹è±¡ï¼Œä½†ä¸ºä»€ä¹ˆè¿”å›ç»“æœä¸º`object`å‘¢ï¼Ÿ

è§£é‡Š: è¿™æ˜¯JSçš„å†å²é—ç•™bugï¼Œåœ¨ JS çš„æœ€åˆç‰ˆæœ¬ä¸­ä½¿ç”¨çš„æ˜¯ 32 ä½ç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ä½¿ç”¨ä½ä½å­˜å‚¨å˜é‡çš„ç±»å‹ä¿¡æ¯ï¼Œ000 å¼€å¤´ä»£è¡¨æ˜¯å¯¹è±¡ç„¶è€Œ null è¡¨ç¤ºä¸ºå…¨é›¶ï¼Œæ‰€ä»¥å°†å®ƒé”™è¯¯çš„åˆ¤æ–­ä¸º object ã€‚

>---å¦‚æœè¦æ­£ç¡®åˆ¤æ–­èƒ½å¤Ÿä½¿ç”¨æ„é€ å‡½æ•°å®ä¾‹åŒ–çš„ä»¥ä¸Šæ•°æ®ç±»å‹ã€æˆ–Arrayã€‚å¯ä»¥ä½¿ç”¨`instanceof` ğŸ‘‡

----

#### 1.2 instanceof

â€‹	**`instanceof`** è¿ç®—ç¬¦ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ `prototype` å±æ€§(åŸå‹å¯¹è±¡)æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼šåˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªå¯¹è±¡çš„å®ä¾‹ï¼Œ`typeof`ä¸èƒ½åŒºåˆ†Arrayï¼Œä½†`instanceof`å¯ä»¥ã€‚instanceofçš„è¿”å›ç»“æœä¸ºBooleanã€‚

---åˆ¤æ–­Array

```
console.log([] instanceof Array);		//true
```

---æ£€æµ‹typeofèƒ½å¤Ÿæ­£ç¡®è¿”å›çš„æ•°æ®ç±»å‹ï¼ˆåœ¨ä¸ æ‰‹åŠ¨å®ä¾‹åŒ– çš„æƒ…å†µä¸‹ï¼‰

â€‹	åªæœ‰objã€functionèƒ½å¤Ÿè¿”å›æ­£ç¡®çš„ç»“æœï¼Œå…¶ä½™è¿”å›falseçš„æ•°æ®ç±»å‹å¦‚æœé€šè¿‡æ„é€ å‡½æ•°å®ä¾‹åŒ–ï¼Œåˆ™èƒ½å¤Ÿæ­£ç¡®åˆ¤æ–­ã€‚

```
console.log("" instanceof String);									//false
console.log(1 instanceof Number);										//false
console.log(true instanceof Boolean);								//false
console.log(function () {} instanceof Function);		//true
console.log({} instanceof Object);									//true

//è¿™é‡Œundefinedä¸èƒ½å¤Ÿåˆ¤æ–­ï¼Œå› ä¸ºå…¶æ²¡æœ‰æ„é€ å‡½æ•°ã€‚
```



----

#### 1.3 å€¼ç±»å‹ä¸å¯¹è±¡

ä¸‹é¢æ˜¯ä½¿ç”¨å­—é¢é‡ä¸å¯¹è±¡æ–¹æ³•åˆ›å»ºå­—ç¬¦ä¸²ï¼Œè¿”å›çš„æ˜¯ä¸åŒç±»å‹ã€‚

```text
let as = "astfn";
let ext = new String(".github.io"); 
console.log(typeof as, typeof ext); //string object
```

åªæœ‰å¯¹è±¡æ‰èƒ½å¤Ÿè°ƒç”¨å±æ€§å’Œæ–¹æ³•ï¼Œä½†åœ¨`JS`ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨å€¼ç±»å‹è°ƒç”¨æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¼šåœ¨æ‰§è¡Œæ—¶å°†å€¼ç±»å‹è½¬ä¸ºå¯¹è±¡ã€‚

```text
[].concat(["ashun"]);
"Ashun".length
(1.266).toFixed(2)
```

---



### äºŒã€String

#### 2.1 å£°æ˜å®šä¹‰

* æ„é€ å‡½æ•°å£°æ˜

  ```
  let str=new String("ashun");
  console.log(str.length);
  ```

  

* å­—é¢é‡å£°æ˜

  å•å¼•å·''ã€åŒå¼•å·""ã€æ¨¡æ¿å­—é¢é‡``ã€‚

  ```
  let str="ashun";
  let str1='ashun';
  let str2=`ashun`; 
  console.log(str.length);
  ```

---

#### 2.2 è½¬ä¹‰ç¬¦å·

æœ‰äº›å­—ç¬¦åœ¨jsä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œéœ€è¦è¿›è¡Œè½¬ä¹‰ã€‚

```
let site="site:\"ashuntefannao.com\"";
console.log(site)
//site:"ashuntefannao.com"
```

å¸¸ç”¨è½¬ä¹‰ç¬¦å·åˆ—è¡¨å¦‚ä¸‹

| ç¬¦å· | è¯´æ˜     |
| ---- | -------- |
| \t   | åˆ¶è¡¨ç¬¦   |
| \n   | æ¢è¡Œ     |
| \\   | æ–œæ ç¬¦å· |
| \\'  | å•å¼•å·   |
| \\"  | åŒå¼•å·   |

---åœ¨ä½¿ç”¨RegExpæ—¶ï¼Œæœ‰å¾ˆå¤šç¬¦å·éƒ½å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œå¦‚æœéœ€è¦åŒ¹é…æŸäº›å­—ç¬¦ï¼Œä¹Ÿéœ€è¦è¿›è¡Œè½¬ä¹‰ï¼Œåœ¨`RegExp`æ€»ç»“ä¸­ä¼šè¯¦è§£ã€‚

---

#### 2.3 è¿æ¥è¿ç®—ç¬¦

ä½¿ç”¨ `+` å¯ä»¥è¿æ¥å¤šä¸ªå†…å®¹ç»„åˆæˆå­—ç¬¦ä¸²ï¼Œç»å¸¸ç”¨äºç»„åˆè¾“å‡ºå†…å®¹ä½¿ç”¨ã€‚

```text
let name = "ashun";
age = 18;
console.log(name + 'ä»Šå¹´' + age + 'å²äº†');
name+="tefannao";
console.log(name);
```

---ä½¿ç”¨Stringçš„å†…ç½®æ–¹æ³•`str.concat(str1,â€¦strN)`ä¹Ÿèƒ½å¤Ÿå®Œæˆå­—ç¬¦ä¸²çš„åˆå¹¶æ“ä½œã€‚è¯¥æ–¹æ³•`ä¸ä¼šæ”¹å˜`åŸå­—ç¬¦ä¸²

```
let str = "ashun";
console.log(str.concat("Ashun", "Tefannao"));//ashunAshunTefannao
console.log(str);//ashun
```



#### 2.4 æ¨¡æ¿å­—é¢é‡

ï¼ˆæ¨¡æ¿å­—é¢é‡`` ï¼‰å¯ä»¥å£°æ˜å­—ç¬¦ä¸²å˜é‡ï¼Œä¹Ÿå¯æ‹¼æ¥Stringï¼Œç›¸æ¯”ä¼ ç»Ÿæ–¹å¼ä½¿ç”¨ + æ¥é“¾æ¥Stringï¼Œå­—é¢é‡æ›´åŠ çš„çµæ´»å’Œæ–¹ä¾¿ã€‚

ä¼˜ç‚¹ï¼š

* å¯ä»¥åŒ…å«å˜é‡å’Œè¡¨è¾¾å¼`${}`
* å¯åœ¨æ¨¡æ¿å­—é¢é‡ä¸­æ¢è¡Œ
* å¯ä»¥åµŒå¥—ä½¿ç”¨

```
let name="ashun";
function getAge(){return 18};
console.log(`${name}ä»Šå¹´${getAge()}å²äº†`)
```

```
console.log(`Ashun
Te
FanNao
`);
/*
Ashun
Te
FanNao
*/
```

```
let arr=[{title:"ashun"},{title:"Ashun"},{title:"ashuntefannao.com"},];

function template(arr){
return `<ul>${arr.map(v=>`<li>${v.title}</li>`).join("")}</ul>`;
}
document.write(template(arr))
```

----

#### 2.5 æ ‡ç­¾æ¨¡æ¿

åŠŸèƒ½ï¼šæå–å‡º`æ™®é€šå­—ç¬¦ä¸²`ä¸`å˜é‡`ï¼Œäº¤ç”±`æ ‡ç­¾å‡½æ•°`å¤„ç†

ä½¿ç”¨æ­¥éª¤:

1. å®šä¹‰å¤„ç†æ ‡ç­¾æ¨¡æ¿çš„å‡½æ•°

2. è°ƒç”¨æ ‡ç­¾æ¨¡æ¿å‡½æ•°ï¼Œå¤„ç†å­—ç¬¦ä¸²

   >```
   functionName `StringContent`
   >```

```text
let obj={name:"é˜¿é¡º",age:18};
function tagTemplate(str,...argus){
	console.log(str);		//["infoï¼š", "ä»Šå¹´", "å²äº†"]
	console.log(argus);		//["é˜¿é¡º", 18]
}
tagTemplate `infoï¼š${obj.name}ä»Šå¹´${obj.age}å²äº†`;
```

---è‹¥Stringå¼€å¤´å°±ä½¿ç”¨äº†å˜é‡ï¼Œé‚£ä¹ˆè·å–æ™®é€šå­—ç¬¦ä¸²Arrçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºç©ºå­—ç¬¦ä¸²`""`

---åŒç†ï¼Œè‹¥Stringçš„ç»“å°¾ä½¿ç”¨äº†å˜é‡ï¼Œè·å–æ™®é€šå­—ç¬¦ä¸²Arrçš„æœ€åä¸€ä¸ªå…ƒç´ ä¹Ÿä¸º`""`

```
let name="ashun";
tag `${name}18å²äº†`;
function tag(str,...argu){
	console.log(str);	//["", "18å²äº†"]
	console.log(argu)	//["ashun"]
}
```

---

#### 2.6 Stringå±æ€§

| å±æ€§        | æè¿°                             |
| :---------- | :------------------------------- |
| length      | å­—ç¬¦ä¸²çš„é•¿åº¦                     |
| constructor | è®¿é—®å…¶æ„é€ å‡½æ•°                   |
| prototype   | é€šè¿‡å…¶å¯æ‰©å±•Stringçš„å±æ€§å’Œæ–¹æ³•ã€‚ |

---

#### 2.7 Stringæ–¹æ³•

##### 2.7.1 å¤§å°å†™è½¬æ¢

| æ–¹æ³•          | æè¿°                 |
| :------------ | :------------------- |
| toLowerCase() | æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚ |
| toUpperCase() | æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ã€‚ |



##### 2.7.2 ç§»é™¤ç©ºç™½

| æ–¹æ³•        | æè¿°                     |
| :---------- | :----------------------- |
| trim()      | ç§»é™¤å­—ç¬¦ä¸²å·¦å³ä¸¤ä¾§çš„ç©ºç™½ |
| trimLeft()  | ç§»é™¤å­—ç¬¦ä¸²å·¦ä¾§çš„ç©ºç™½     |
| trimRight() | ç§»é™¤å­—ç¬¦ä¸²å³ä¾§çš„ç©ºç™½     |



##### 2.7.3 è·å–å•å­—ç¬¦

| æ–¹æ³•              | æè¿°                                |
| :---------------- | :---------------------------------- |
| charAt(index)     | è¿”å›åœ¨æŒ‡å®šä½ç½®çš„å­—ç¬¦ã€‚              |
| charCodeAt(index) | è¿”å›åœ¨æŒ‡å®šä½ç½®å­—ç¬¦çš„ Unicode ç¼–ç ã€‚ |

---ä½¿ç”¨ç´¢å¼•å½¢å¼ï¼Œè·å–å•å­—ç¬¦

```
console.log("Ashun"[2]);
```



##### 2.7.4 æˆªå–å­—ç¬¦ä¸²

sliceã€substrã€substringè¿™äº›æ“ä½œéƒ½ä¸ä¼šæ”¹å˜åŸå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„stringã€‚

###### slice(n1,n2)

å‚æ•°1:èµ·å§‹ä½ç½®ï¼Œå‚æ•°2:ç»“æŸä½ç½®	ç›¸å½“äº`åŒºé—´å·¦é—­å³å¼€[n1,n2)`ï¼Œå‚æ•°å¯ä¸ºè´Ÿæ•°ï¼Œæ„ä¸ºè‡ªåå‘å‰çš„å­—ç¬¦ã€‚

å…³äºå‚æ•°ï¼š

* æ²¡æœ‰ä¼ å‚æ—¶ï¼Œæˆªå–æ•´ä¸ªsring

* åªæœ‰ä¸€ä¸ªå‚æ•°
  * æ­£æ•°ï¼šä»n1æˆªå–åˆ°å°¾éƒ¨ã€‚
  * è´Ÿæ•°ï¼šè‡ªåå‘å‰æˆªå–n1ä¸ªå­—ç¬¦ã€‚

```
console.log("Ashun".slice(-4));			//shun

console.log("Ashun".slice(1));			//shun

console.log("Ashun".slice(1, 2));		//s

console.log("Ashun".slice(1, -1));	//shu

console.log("Ashun".slice(-1, -5));	//shun

//æˆªå–çš„è§„åˆ™å¿…é¡»æ˜¯è‡ªå‰å‘åï¼Œn1<n2
console.log("Ashun".slice(-4, -2)); //sh
```

---

###### substr(n1,n2)

å‚æ•°1:èµ·å§‹ä½ç½®ï¼Œå‚æ•°2:`è‡ªå‰å‘åæˆªå–n2ä¸ªå­—ç¬¦ï¼ˆæ•°é‡åŒ…å«èµ·å§‹ä½ç½®å­—ç¬¦ï¼‰`,å› æ­¤å‚æ•°2ä¸å¯ä¸ºè´Ÿæ•°ã€‚

å…³äºå‚æ•°ï¼š

* æ²¡æœ‰ä¼ å‚æ—¶ï¼Œæˆªå–æ•´ä¸ªsring

* åªæœ‰ä¸€ä¸ªå‚æ•°ï¼ˆåŒsliceï¼‰ã€‚

```
console.log("Ashun".substr(1)); 							//shun
console.log("Ashun".substr(-4)); 							//shun
console.log("Ashuntefan".substr(1, 3));				//shu
console.log("Ashuntefan".substr(-3, 2));			//fa
```

---

###### substring(n1,n2)

å…³äºå‚æ•°ï¼šå¯¹æ¯”sliceã€‚

* ç›¸åŒç‚¹
  * æ²¡æœ‰ä¼ å‚æ—¶ï¼Œæˆªå–æ•´ä¸ªsring
  * å‚æ•°1ã€2çš„æ„ä¹‰ä¸sliceç›¸åŒ`åŒºé—´å·¦é—­å³å¼€[n1,n2)`ã€‚
* ä¸åŒç‚¹
  * å‚æ•°ä¸èƒ½ä¸ºè´Ÿæ•°ï¼Œå¦åˆ™ä¼šè§†ä¸º`0`
  * è‡ªåŠ¨å°†ä¸¤ä¸ªå‚æ•°ä¸­è¾ƒå°çš„å‚æ•°ä½œä¸ºèµ·å§‹ä½ç½®ã€‚

```
console.log("Ashun".substring(1));					//shun

//äºŒè€…ç»“æœç›¸åŒ
console.log("Ashun".substring(1, 5));				//shun
console.log("Ashun".substring(5, 1));				//shun

//ç›¸å½“äºsubstring(0)
console.log("Ashun".substring(-2));					//Ashun

//ç›¸å½“äºsubstring(1,0)===substring(0,1)
console.log("Ashun".substring(1, -1));			//A
console.log("Ashun".substring(1, 0));				//A
```

---

##### 2.7.5 æ£€ç´¢å­—ç¬¦ä¸²

| æ–¹æ³•                   | æè¿°                                                         |
| :--------------------- | :----------------------------------------------------------- |
| indexOf(str,index)     | è¿”å›æŸä¸ªæŒ‡å®šçš„å­—ç¬¦ä¸²å€¼åœ¨å­—ç¬¦ä¸²ä¸­`é¦–æ¬¡å‡ºç°çš„ç´¢å¼•`ã€‚åŒ¹é…å¤±è´¥è¿”å›-1ã€‚å‚æ•°2(å¯é€‰)æŒ‡å®šå¼€å§‹æŸ¥æ‰¾çš„ä½ç½® |
| lastIndexOf(str,index) | è‡ªåå‘å‰æ£€ç´¢å­—ç¬¦ä¸²ï¼Œè¿”å›ç»“æœåŒindexOf()ï¼Œå‚æ•°2(å¯é€‰)æŒ‡å®šå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®(è‡ªåå‘å‰) |
| includes(strï¼Œindex)   | æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­å­—ç¬¦ä¸²ï¼Œå‚æ•°2(å¯é€‰)æŒ‡å®šå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®(è‡ªåå‘å‰) |
| match(`Regexp`)        | æŸ¥æ‰¾æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚                         |
| search(str/`Regexp`)   | ç›¸å¯¹äºindexof()å¯ä»¥ä¼ å…¥`Regexp`                              |
| startsWith(str,index)  | æ˜¯å¦ä»¥æŒ‡å®šçš„strå¼€å¤´ã€‚index:æ£€ç´¢çš„èµ·å§‹ä½ç½®ã€‚                  |
| endsWith(str,index)    | æ˜¯å¦ä»¥æŒ‡å®šçš„strç»“æŸï¼Œindex:æ£€ç´¢çš„ç»“æŸä½ç½®ã€‚                  |

---indexOf

```
console.log("Ashunã€ashun".indexOf("shun")); 	//1
console.log("Ashun".indexOf("as"));						 //-1

let str = "ashunashun";
console.log(str.indexOf("a"));//0
console.log(str.indexOf("a", 2));//5
```

---lastIndexOf

```
console.log("Ashunã€ashun".lastIndexOf("shun")); 	//7
console.log("Ashun".lastIndexOf("as")); 					//-1

let str = "ashunashun";
console.log(str.lastIndexOf("a"));//5
console.log(str.lastIndexOf("a", 3));//0
```

---includes

```
console.log("Ashun".includes("shun")); 		//true
console.log("Ashun".includes("as")); 			//false
```

---match

```
let reg = new RegExp("shun", "g");
console.log("Ashunã€ashun".match(reg)); 				//["shun", "shun"]
console.log("Ashunã€ashun".match(/[0-9]/)); 		//null
```

---search

```
let reg = new RegExp("shun", "g");
console.log("Ashunã€shun".search(reg)); 			//1
console.log("Ashunã€shun".search("ã€")); 		 //5
```

---startsWith

```
console.log("Ashuntefannao".startsWith("A"));				//true
console.log("Ashuntefannao".startsWith("shun", 1));	//true
```

---endsWith

```
console.log("Ashuntefannao".endsWith("fannao")); 		//true
console.log("Ashuntefannao".endsWith("shun", 5)); 	//true
```



---

##### 2.7.6 æ›¿æ¢å­—ç¬¦ä¸²

`replace(matchStr,replaceStr)` æ–¹æ³•ç”¨äºå­—ç¬¦ä¸²çš„æ›¿æ¢æ“ä½œ

```text
let site = "Ashuntefannao.com";
console.log(site.replace("Ashuntefannao", "ashun"));
```

é»˜è®¤åªæ›¿æ¢ä¸€æ¬¡ï¼Œå¦‚æœå…¨å±€æ›¿æ¢éœ€è¦ä½¿ç”¨æ­£åˆ™ï¼ˆæ›´å¼ºå¤§çš„ä½¿ç”¨ä¼šåœ¨æ­£åˆ™è¡¨è¾¾å¼ç« èŠ‚ä»‹ç»ï¼‰

```text
let str = "Ashunã€shun";
console.log(str.replace(/shun/g, "SHUN"));
```

ä½¿ç”¨å­—ç¬¦ä¸²æ›¿æ¢æ¥ç”Ÿæˆå…³é”®è¯é“¾æ¥

```text
let keys = ["Js", "css"];
let str = "Ashunå–œæ¬¢Jså’ŒcssçŸ¥è¯†";
	str = keys.reduce((pre, key) => {
		return pre.replace(key, `<a href="?key=${key}">${key}</a>`);
}, str);
document.body.innerHTML = str;
```

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å®Œæˆæ›¿æ¢

```text
let str = "Ashunå–œæ¬¢Jså’ŒcssçŸ¥è¯†";
str = str.replace(/(css|Js)/g, `<a href="?key=$&">$&</a>`);
document.body.innerHTML = str;
```



---

##### 2.7.7 é‡å¤ç”Ÿæˆ

`repeat(num)`å®Œæˆå­—ç¬¦ä¸²çš„é‡å¤ç”Ÿæˆ

ä¸‹ä¾‹æ˜¯æ ¹æ®å‚æ•°é‡å¤ç”Ÿæˆæ˜Ÿå·

```text
function repeat(str = "*", num = 3) {
		return str.repeat(num);
}
console.log(repeat());
console.log(repeat("8 ", 8));
```

ä¸‹é¢æ˜¯æ¨¡ç³Šç”µè¯å·ç 

```text
let phone = "89452176335";
console.log(phone.slice(0, 3).concat("*".repeat(5)).concat(phone.slice(-3)));
//894*****335
```

---

##### 2.7.8 ç±»å‹è½¬æ¢

###### String->Array

ä½¿ç”¨`split(str)`æ–¹æ³•ï¼šä»¥å‚æ•°stråˆ†å‰²Stringä¸ºArrayã€‚

```
console.log("Ashun".split(""));								//["A", "s", "h", "u", "n"]
console.log("ashun,Ashun".split(","));				//["ashun","Ashun"]
console.log("Ashuntefannao".split("te"));			//["Ashun","fannao"]
```

###### Number->String

* +""
* String(Number)
* num.toString()

###### Array->String

* arr.join(str)

  `join(str)`æ–¹æ³•ï¼šä»¥å‚æ•°stråˆå¹¶Arrayçš„æ¯ä¸ªå…ƒç´ å˜ä¸ºStringã€‚

  ```
  console.log(["2020", "3", "13"].join("-"));			//2020-3-13
  ```

* arr.toString()

jsä¸­å¤§éƒ¨åˆ†ç±»å‹éƒ½æ˜¯å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ç±»æ–¹æ³• `toString`è½¬åŒ–ä¸ºå­—ç¬¦ä¸²

```text
let as = 99;
console.log(typeof as.toString()); //string

let arr = ['Ashun', 'é˜¿é¡º'];
console.log(typeof arr.toString()); //string
```



---

### ä¸‰ã€Boolean

#### éšå¼è½¬æ¢

åŸºæœ¬ä¸Šæ‰€æœ‰ç±»å‹éƒ½å¯ä»¥éšå¼è½¬æ¢ä¸º Booleanç±»å‹ã€‚

| æ•°æ®ç±»å‹  | true              | false            |
| :-------- | :---------------- | ---------------- |
| String    | éç©ºå­—ç¬¦ä¸²        | ç©ºå­—ç¬¦ä¸²         |
| Number    | é0çš„æ•°å€¼         | 0 ã€NaN          |
| Array     | ä¸ä¸Booleanæ¯”è¾ƒæ—¶ | å‚ä¸æ¯”è¾ƒçš„ç©ºæ•°ç»„ |
| Object    | ä¸ä¸Booleanæ¯”è¾ƒæ—¶ |                  |
| undefined | æ—                 | undefined        |
| null      | æ—                 | null             |
| NaN       | æ—                 | NaN              |



å½“ä¸booleanç±»å‹æ¯”è¾ƒæ—¶ï¼Œä¼šå°†ä¸¤è¾¹ç±»å‹ç»Ÿä¸€ä¸ºæ•°å­—1æˆ–0ã€‚

```text
console.log(3 == true); 	//false
console.log(0 == false); 	//true
```

ä¸‹é¢æ˜¯ä¸€ä¸ªå…¸å‹çš„ä¾‹å­ï¼Œå­—ç¬¦ä¸²åœ¨ä¸Booleanæ¯”è¾ƒæ—¶ï¼Œä¸¤è¾¹éƒ½ä¸ºè½¬æ¢ä¸ºæ•°å€¼ç±»å‹åå†è¿›è¡Œæ¯”è¾ƒã€‚

```text
console.log(Boolean("ashun")); //true
console.log(Number("ashun")); //NaN
console.log("ashun" == true); //false
console.log("1" == true); //true
```

æ•°ç»„çš„è¡¨ç°ä¸å­—ç¬¦ä¸²åŸç†ä¸€æ ·ï¼Œä¼šå…ˆè½¬æ¢ä¸ºæ•°å€¼

```text
console.log(Number([])); //0
console.log(Number([3])); //3
console.log(Number([1, 2, 3])); //NaN
console.log([] == false); //true
console.log([1] == true); //true
console.log([1, 2, 3] == true); //false
```

---å¼•ç”¨ç±»å‹`Objectã€Array`ä¸ä¸Booleanæ¯”è¾ƒæ—¶ï¼Œå€¼ä¸º`çœŸ`ã€‚

```
if ([]) console.log("true");
if ({}) console.log("true");
```



---

#### æ˜¾å¼è½¬æ¢

ä½¿ç”¨ `!`æˆ–`!!` è½¬æ¢å¸ƒå°”ç±»å‹

```text
let as = '';
console.log(!!as); //false
as = 0;
console.log(!!as); //false
as = null;
console.log(!!as); //false
as = new Date("2021-3-13 16:42");
console.log(!!as); //true
```

ä½¿ç”¨ `Boolean` å‡½æ•°å¯ä»¥æ˜¾å¼è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹

```text
let as = '';
console.log(Boolean(as)); //false
as = 0;
console.log(Boolean(as)); //false
as = null;
console.log(Boolean(as)); //false
as = new Date("2021-3-13 16:42");
console.log(Boolean(as)); //true
```



---

#### å®ä¾‹æ“ä½œ

ä¸‹é¢ä½¿ç”¨Booleanç±»å‹åˆ¤æ–­ç”¨æˆ·çš„è¾“å…¥ï¼Œå¹¶ç»™å‡ºä¸åŒçš„åé¦ˆã€‚

```text
while (true) {
  let test = prompt("è¯·è¾“å…¥Ashuntefannaoæˆç«‹å¹´ä»½").trim();
  if (!test) continue;
  alert(test == 2020 ? "å›ç­”æ­£ç¡®" : "ç­”æ¡ˆé”™è¯¯ï¼å‡ç²‰ä¸€ä¸ª");
  break;
}
```



---

### å››ã€Number

#### å£°æ˜å®šä¹‰

ä½¿ç”¨å¯¹è±¡æ–¹å¼å£°æ˜

```text
let as = new Number(3);
console.log(as+3); //6
```

Numberç”¨äºè¡¨ç¤ºæ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œæ•°å­—æ˜¯ `Number`å®ä¾‹åŒ–çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨å¯¹è±¡æä¾›çš„ä¸°å¯Œæ–¹æ³•ã€‚

```text
let num = 99;
console.log(typeof num);
```



---

#### åŸºæœ¬å‡½æ•°

`Number.isInteger(num)`ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºæ•´æ•°

```text
console.log(Number.isInteger(1.2));	//false
```

`Number.isNaN(message)`ï¼šåˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºæ— æ•ˆæ•°å€¼

```
let as = "ashun" / 0;
console.log(Number.isNaN(as)); //true
```

`num.toFixed(n)`ï¼šå››èˆäº”å…¥ä¿ç•™nä½å°æ•°ã€‚

```text
console.log((16.556).toFixed(2)); // 16.56
```

`num.toString()`ï¼šè½¬ä¸ºStringï¼Œjsä¸­å‡ ä¹æ‰€æœ‰ç±»å‹éƒ½å…·æœ‰è¯¥æ–¹æ³•ã€‚

```
console.log(typeof (2).toString())
```



---

#### NaN

è¡¨ç¤ºæ— æ•ˆçš„æ•°å€¼ï¼Œä¸‹ä¾‹è®¡ç®—å°†äº§ç”ŸNaNç»“æœã€‚

```text
console.log(Number("ashun")); //NaN

console.log(2 / 'ashun'); //NaN
```

NaNä¸èƒ½ä½¿ç”¨ `==` æ¯”è¾ƒï¼Œä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥åˆ¤æ–­ç»“æœæ˜¯å¦æ­£ç¡®

```text
let res = 2 / 'ashun';
if (Number.isNaN(res)) {
	console.log('Error');
}
console.log(res == NaN);	//false
```

ä¹Ÿå¯ä»¥ä½¿ç”¨ `Object.is` æ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦å®Œå…¨ç›¸åŒ

```text
let res = 2 / 'ashun';
console.log(Object.is(res, NaN)); //true
```



----

#### ç±»å‹è½¬æ¢

**other->Number**

ä½¿ç”¨Numberå‡½æ•°åŸºæœ¬ä¸Šå¯ä»¥è½¬æ¢æ‰€æœ‰ç±»å‹

```text
console.log(Number('Ashun')); //NaN
console.log(Number(true));	//1
console.log(Number(false));	//0
console.log(Number('9'));	//9
console.log(Number([]));	//0
console.log(Number([5]));	//5
console.log(Number([5, 2]));	//NaN
console.log(Number({}));	//NaN
```

**parseInt**

æå–å­—ç¬¦ä¸²å¤´éƒ¨å»é™¤ç©ºç™½åçš„æ•°å­—è½¬ä¸ºæ•´æ•°ã€‚

```text
console.log(parseInt('  99houdunren'));	//99
console.log(parseInt('18.55'));	//18
```

**parseFloat**

æå–å­—ç¬¦ä¸²å¤´éƒ¨å»é™¤ç©ºç™½åçš„æ•°å­—è½¬ä¸ºæµ®ç‚¹æ•°ã€‚

```text
console.log(parseFloat('  99houdunren'));	//99
console.log(parseFloat('  18.55'));	//18.55
```



---

#### æµ®ç‚¹ç²¾åº¦

å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€åœ¨æµ®ç‚¹æ•°è®¡ç®—æ—¶éƒ½ä¼šæœ‰ç²¾åº¦è¯¯å·®é—®é¢˜ï¼Œä¸‹é¢æ¥çœ‹JSä¸­çš„è¡¨ç°å½¢å¼

```text
let num = 0.1 + 0.2
console.log(num)// ç»“æœï¼š0.30000000000000004
```

è¿™æ˜¯å› ä¸ºè®¡ç®—æœºä»¥äºŒè¿›åˆ¶å¤„ç†æ•°å€¼ç±»å‹ï¼Œä¸Šé¢çš„0.1ä¸0.2è½¬ä¸ºäºŒè¿›åˆ¶åæ˜¯æ— ç©·çš„

```text
console.log((0.1).toString(2)) //0.0001100110011001100110011001100110011001100110011001101
console.log((0.2).toString(2)) //0.001100110011001100110011001100110011001100110011001101
```

**å¤„ç†æ–¹å¼**

ä¸€ç§æ–¹å¼ä½¿ç”¨toFixed æ–¹æ³•è¿›è¡Œå°æ•°æˆªå–

```text
console.log((0.1 + 0.2).toFixed(2)) //0.3

console.log(1.0 - 0.9) //0.09999999999999998
console.log((1.0 - 0.9).toFixed(2)) //0.10
```

å°†å°æ•°è½¬ä¸ºæ•´æ•°è¿›è¡Œè®¡ç®—åï¼Œå†è½¬ä¸ºå°æ•°ä¹Ÿå¯ä»¥è§£å†³ç²¾åº¦é—®é¢˜

```text
Number.prototype.add = function (num) {
	//å–ä¸¤ä¸ªæ•°å€¼ä¸­å°æ•°ä½æœ€å¤§çš„
  let n1 = this.toString().split('.')[1].length
  let n2 = num.toString().split('.')[1].length
  
  //å¾—åˆ°10çš„Næ¬¡å¹‚
  let m = Math.pow(10, Math.max(n1, n2))

  return (this * m + num * m) / m
}
console.log((0.1).add(0.2))
```

**æ¨èåšæ³•**

å¸‚é¢ä¸Šå·²ç»å­˜åœ¨å¾ˆå¤šé’ˆå¯¹æ•°å­¦è®¡ç®—çš„åº“ [mathjs](https://mathjs.org/examples/browser/basic_usage.html.html)ã€[decimal.js](https://github.com/MikeMcl/decimal.js)ç­‰ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦è‡ªå·±æ„å»ºäº†ã€‚ä¸‹é¢æ¥æ¼”ç¤ºä½¿ç”¨ [decimal.js ](https://github.com/MikeMcl/decimal.js)è¿›è¡Œæµ®ç‚¹è®¡ç®—ã€‚

```text
<script src="https://cdn.bootcss.com/decimal.js/10.2.0/decimal.min.js"></script>

<script>
	console.log(Decimal.add(0.1, 0.2).valueOf())
</script>
```



---

### äº”ã€Math

`Math` å¯¹è±¡æä¾›äº†ä¼—å¤šæ–¹æ³•ç”¨æ¥è¿›è¡Œæ•°å­¦è®¡ç®—ï¼Œä¸‹é¢æˆ‘ä»¬ä»‹ç»å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ›´å¤šæ–¹æ³•ä½¿ç”¨è¯·æŸ¥çœ‹ [MDNå®˜ç½‘](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math)äº†è§£ã€‚

#### å–æé™å€¼

ä½¿ç”¨ `min` ä¸ `max` å¯ä»¥å–å¾—æœ€å°ä¸æœ€å¤§å€¼ã€‚

```text
console.log(Math.min(1, 2, 3));

console.log(Math.max(1, 2, 3));
```

---ä»æ•°ç»„ä¸­å–å€¼

```text
let arr = [1, 2, 3];
console.log(Math.max.apply(Math, arr));		
console.log(Math.max(...arr));						
```



---

#### èˆå…¥å¤„ç†

`Math.ceil(num)`å‘ä¸Šå–æ•´

```text
console.log(Math.ceil(1.111)); //2
```

`Math.floor(num)`å‘ä¸‹å–æ•´

```text
console.log(Math.floor(1.555)); //1
```

`Math.round(num)`å››èˆäº”å…¥å¤„ç†

```text
console.log(Math.round(1.5)); //2
```



---

#### random

`random` æ–¹æ³•ç”¨äºè¿”å›`[0,1)`çš„éšæœºæ•°ã€‚

è¿”å›`[0,n)`çš„éšæœºæ•° å…¬å¼ä¸ºï¼šMath.floor(Math.random()*n)

```text
const number = Math.floor(Math.random() * 5);
console.log(number);
```

è¿”å›`[0,n]`çš„éšæœºæ•° å…¬å¼ä¸ºï¼šMath.floor(Math.random()*(n+1))

```text
const number = Math.floor(Math.random() * (5+1));
console.log(number);
```

ä¸‹é¢å–`[2,5)`çš„éšæœºæ•° å…¬å¼ä¸ºï¼šmin+Math.floor(Math.random()*(Max-min))

```text
const number = Math.floor(Math.random() * (5 - 2)) + 2;
console.log(number);
```

ä¸‹é¢å–`[2,5]`çš„éšæœºæ•° å…¬å¼ä¸ºï¼šmin+Math.floor(Math.random()*(Max-min+1))

```text
const number = Math.floor(Math.random() * (5 - 2 + 1)) + 2;
console.log(number);
```

---

#### å–ç»å¯¹å€¼

`Math.abs(num)`ï¼šå–numçš„ç»å¯¹å€¼ã€‚

```
console.log(Math.abs(-999));//999
```

---

#### æ¬¡å¹‚è¿ç®—

`Math.pow(x,y)`ï¼šè¿”å› x çš„ y æ¬¡å¹‚ã€‚

```
console.log(Math.pow(10, -2)); //0.01
console.log(Math.pow(1, -2)); //1
```



---

### å…­ã€Date

  ç½‘ç«™ä¸­å¤„ç†æ—¥æœŸæ—¶é—´æ˜¯å¾ˆå¸¸ç”¨çš„åŠŸèƒ½ï¼Œé€šè¿‡ `Date` ç±»å‹æä¾›çš„ä¸°å¯ŒåŠŸèƒ½å¯ä»¥éå¸¸æ–¹ä¾¿çš„æ“ä½œã€‚

#### å£°æ˜æ—¥æœŸ

è·å–å½“å‰æ—¥æœŸæ—¶é—´

```text
let now = new Date();
console.log(now);
console.log(typeof date); //object ï¼ˆç”±æ„é€ å‡½æ•°å®ä¾‹åŒ–ä¸ºObjectï¼‰


//ç›´æ¥ä½¿ç”¨å‡½æ•°è·å–å½“å‰æ—¶é—´
console.log(Date());
console.log(typeof Date()); //string ï¼ˆç›´æ¥ä½¿ç”¨Date()æ–¹æ³•ï¼‰

```

æ ¹æ®æŒ‡å®šçš„æ—¥æœŸä¸æ—¶é—´å®šä¹‰æ—¥æœŸå¯¹è±¡

```text
let now = new Date('2028-02-22 03:25:02');
console.log(now);

now = new Date(2028, 4, 5, 1, 22, 16);
console.log(now);
```

ä½¿ç”¨å±•ç¤ºè¿ç®—ç¬¦å¤„ç†æ›´æ–¹ä¾¿

```text
let info = [2021, 3, 14, 10, 51, 19];
let date = new Date(...info);
console.dir(date);
```



---

#### æ—¶é—´æˆ³

  jså†…çš„æ—¶é—´æˆ³æŒ‡çš„æ˜¯`å½“å‰æ—¶é—´`åˆ°`1970å¹´1æœˆ1æ—¥00:00:00`ä¹‹é—´çš„`æ¯«ç§’æ•°`ã€‚

è·å–æ—¶é—´æˆ³

```
/*	è·å–æŒ‡å®šæ—¶é—´å¯¹è±¡çš„æ—¶é—´æˆ³ï¼Œå¯é€šè¿‡å†…ç½®æ–¹æ³•æ¥è·å–ã€‚
*/
let as = new Date(2021,3,14,11,06,23);
console.log(as); //w3cæ ‡å‡†æ—¶é—´
console.log(as.getTime()); //getTime()è·å–asçš„æ—¶é—´æˆ³
console.log(as.valueOf()); //valueOf()è·å–asçš„æ—¶é—´æˆ³
console.log(as*1);	//è½¬ä¸ºæ•°å­—å³æ—¶é—´æˆ³

/*	è·å–å½“å‰æ—¶é—´æˆ³
*/
console.log(Date.now()); 
console.log(new Date().getTime());
console.log(new Date().valueOf());
console.log(new Date()*1);	//è½¬ä¸ºæ•°å­—å³æ—¶é—´æˆ³
```

è®¡ç®—è„šæœ¬æ‰§è¡Œæ—¶é—´`Date.now()`

```text
const start = Date.now();
for (let i = 0; i < 2000000; i++) {}
const end = Date.now();
console.log(end - start);
```

å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ§åˆ¶å°æµ‹è¯•`console.time("name") && console.timeEnd("name")`

```text
console.time("testFor");
for (let i = 0; i < 20000000; i++) {}
console.timeEnd("testFor");
```



---

#### ç±»å‹è½¬æ¢

**w3c->æ—¶é—´æˆ³**

* å†…ç½®æ–¹æ³•è·å–`getTime()\valueOf()`
* å°†æ—¥æœŸ`è½¬ä¸ºæ•°å€¼ç±»å‹`å°±æ˜¯è½¬ä¸ºæ—¶é—´æˆ³ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚

```text
let as = new Date("2020-2-22 10:33:12");
console.log(as * 1);

console.log(Number(as));

console.log(as.valueOf())

console.log(date.getTime());
```

**æ—¶é—´æˆ³->w3c**

* `å®ä¾‹åŒ–Date`ï¼Œå¹¶å°†æ—¶é—´æˆ³ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚

æœ‰æ—¶åå°æä¾›çš„æ—¥æœŸä¸ºæ—¶é—´æˆ³æ ¼å¼ï¼Œä¸‹é¢æ˜¯å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºæ ‡å‡†æ—¥æœŸçš„æ–¹æ³•

```text
const date = new Date().getTime();
console.log(date);
console.log(new Date(date));
```



---

#### å°è£…æ—¶é—´å‡½æ•°

å°è£…å‡½æ•°ç”¨äºå¤ç”¨

```text
function getCurrentTime(date = new Date(),modle = "YYYY/MM/DD/HH/mm/ss") {
		let newDate = {
					YYYY: date.getFullYear(),
					MM: date.getMonth() + 1,
					DD: date.getDate(),
					HH: date.getHours(),
					mm: date.getMinutes(),
					ss: date.getSeconds(),
		};
		for (let key in newDate) {
			modle = modle.replace(key, newDate[key]);
		}
		return modle;
}
console.log(getCurrentTime());
console.log(getCurrentTime(new Date(), "YYYY-MM-DD"));
```



ä¸‹é¢æ˜¯ç³»ç»Ÿæä¾›çš„æ—¥æœŸæ—¶é—´æ–¹æ³•ï¼Œæ›´å¤šæ–¹æ³•è¯·æŸ¥çœ‹ [MDNå®˜ç½‘](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Date)

| æ–¹æ³•          | æè¿°                                               |
| :------------ | :------------------------------------------------- |
| Date()        | è¿”å›å½“æ—¥çš„æ—¥æœŸå’Œæ—¶é—´ã€‚                             |
| getDate()     | ä» Date å¯¹è±¡è¿”å›`ä¸€ä¸ªæœˆä¸­`çš„æŸä¸€å¤© (1 ~ 31)ã€‚      |
| getDay()      | ä» Date å¯¹è±¡è¿”å›`ä¸€å‘¨ä¸­`çš„æŸä¸€å¤© (0 ~ 6)ã€‚         |
| getMonth()    | ä» Date å¯¹è±¡è¿”å›æœˆä»½ (`0 ~ 11`)ã€‚                  |
| getFullYear() | ä» Date å¯¹è±¡ä»¥å››ä½æ•°å­—è¿”å›å¹´ä»½ã€‚                   |
| getHours()    | è¿”å› Date å¯¹è±¡çš„å°æ—¶ (0 ~ 23)ã€‚                    |
| getMinutes()  | è¿”å› Date å¯¹è±¡çš„åˆ†é’Ÿ (0 ~ 59)ã€‚                    |
| getSeconds()  | è¿”å› Date å¯¹è±¡çš„ç§’æ•° (0 ~ 59)ã€‚                    |
| parse()       | è¿”å›1970å¹´1æœˆ1æ—¥åˆå¤œåˆ°æŒ‡å®šæ—¥æœŸï¼ˆå­—ç¬¦ä¸²ï¼‰çš„æ¯«ç§’æ•°ã€‚ |
| getTime()     | è¿”å› æ—¶é—´æˆ³                                        |
| valueOf()     | è¿”å› Date å¯¹è±¡çš„åŸå§‹å€¼ã€‚ï¼ˆæ—¶é—´æˆ³ï¼‰                 |
| toString()    | æŠŠ Date å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²                           |



#### moment.js

Moment.jsæ˜¯ä¸€ä¸ªè½»é‡çº§çš„JavaScriptæ—¶é—´åº“ï¼Œå®ƒæ–¹ä¾¿äº†æ—¥å¸¸å¼€å‘ä¸­å¯¹æ—¶é—´çš„æ“ä½œï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚

æ›´å¤šä½¿ç”¨æ–¹æ³•è¯·è®¿é—®ä¸­æ–‡å®˜ç½‘ [http://momentjs.cn](http://momentjs.cn/)æˆ– è‹±æ–‡å®˜ç½‘ [https://momentjs.com](https://momentjs.com/)

```text
<script src="https://cdn.bootcss.com/moment.js/2.24.0/moment.min.js"></script>
```

è·å–å½“å‰æ—¶é—´

```text
console.log(moment().format("YYYY-MM-DD HH:mm:ss"));
```

è®¾ç½®æ—¶é—´

```text
console.log(moment("2020-02-18 09:22:15").format("YYYY-MM-DD HH:mm:ss"));
```

åå¤©åçš„æ—¥æœŸ

```text
console.log(moment().add(10, "days").format("YYYY-MM-DD hh:mm:ss"));
```

