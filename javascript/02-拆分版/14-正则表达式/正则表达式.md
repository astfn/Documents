---
title: æ­£åˆ™è¡¨è¾¾å¼
date: 2021-05-16 13:37:21
tags:
categories:
- [Webå‰ç«¯,JavaScriptå¤§æ€»ç»“]
---

## æ­£åˆ™è¡¨è¾¾å¼

### åŸºç¡€çŸ¥è¯†

æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­`å­—ç¬¦ç»„åˆ`çš„æ¨¡å¼ï¼Œåœ¨ JavaScriptä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡ã€‚

- æ­£åˆ™è¡¨è¾¾å¼æ˜¯åœ¨å®¿ä¸»ç¯å¢ƒä¸‹è¿è¡Œçš„ï¼Œå¦‚`js/php/node.js` ç­‰ , å³åœ¨ä¸åŒçš„è¯­è¨€ä¸­éƒ½ä¼šæœ‰æ­£åˆ™è¡¨è¾¾å¼ã€‚
- æœ¬ç« è®²è§£çš„çŸ¥è¯†åœ¨å…¶ä»–è¯­è¨€ä¸­çŸ¥è¯†ä¹Ÿæ˜¯å¯ç”¨çš„ï¼Œä½†æ˜¯ä¼šæœ‰äº›å‡½æ•°ä½¿ç”¨ä¸Šçš„åŒºåˆ«

#### å¯¹æ¯”åˆ†æ

ä¸æ™®é€šå‡½æ•°æ“ä½œå­—ç¬¦ä¸²æ¥æ¯”è¾ƒï¼Œæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥å†™å‡ºæ›´ç®€æ´ã€åŠŸèƒ½å¼ºå¤§çš„ä»£ç ã€‚

ä¸‹é¢ä½¿ç”¨è·å–å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰æ•°å­—æ¥æ¯”è¾ƒå‡½æ•°ä¸æ­£åˆ™çš„å·®å¼‚ã€‚

```text
let Str = "Ashuntefannao1.1324Ashun";
let numbers = [...Str].filter((char) => !isNaN(Number(char))).join("");
console.log(numbers);
```

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å°†ç®€å•å¾—å¤š

```text
let Str = "Ashuntefannao1.1324Ashun";
let numbers = Str.match(/\d/g).join("");
console.log(numbers);
```



---

#### åˆ›å»ºæ­£åˆ™

JSæä¾›`å­—é¢é‡`ä¸`å¯¹è±¡`ä¸¤ç§æ–¹å¼åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œæ¨èä½¿ç”¨`å­—é¢é‡å½¢å¼`åˆ›å»ºRegExpï¼Œå½¢å¼æ›´åŠ ç®€æ´ã€‚

##### å­—é¢é‡åˆ›å»º

ä½¿ç”¨`//`åŒ…è£¹çš„å­—é¢é‡åˆ›å»ºæ–¹å¼æ˜¯æ¨èçš„ä½œæ³•ï¼Œä½†ä¸èƒ½åœ¨`//`ä¸­ä½¿ç”¨å˜é‡ä½œä¸ºåŒ¹é…è§„åˆ™

```text
let as = "Ashuntefannao.com";
let reg=/[A-Z]/;
console.log(reg.test(as)); //true
console.log(/[A-Z]/.test(as)); //true
```

`//`åŒ…è£¹çš„å­—é¢é‡åˆ›å»ºçš„æ­£åˆ™ï¼Œå…¶ä¸­ä¸èƒ½åº”ç”¨å˜é‡ï¼Œä½œä¸ºåŒ¹é…è§„åˆ™ã€‚

* `//`åŒ…è£¹çš„å†…å®¹ä¼šè¢«ç†è§£ä¸ºæ­£åˆ™è¯­æ³•ï¼Œæ‰€ä»¥å…¶ä¸­çš„`z`ä¸æ˜¯å˜é‡ï¼Œæ˜¯åŒ¹é…`z`å­—ç¬¦

```text
let as = "Ashuntefannao.com";
let z = "shun";
console.log(/z/.test(as)); //false
console.log(/z/.test("zheng"))//true
```

è™½ç„¶å¯ä»¥ä½¿ç”¨ `eval` è®¡ç®—å­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼Œå°†å…¶è½¬æ¢ä¸ºjsè¯­æ³•æ¥å®ç°å°†å˜é‡è§£æåˆ°æ­£åˆ™ä¸­ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥`æœ‰å˜é‡æ—¶`å»ºè®®ä½¿ç”¨ä¸‹é¢æ‰€è®²çš„`å¯¹è±¡åˆ›å»º`æ–¹å¼

```text
let as = "Ashuntefannao.com";
let z = "shun";
console.log(eval(`/${z}/`).test(as)); //true
```



---

##### å¯¹è±¡åˆ›å»º

å½“æ­£åˆ™éœ€è¦åŠ¨æ€åˆ›å»ºæ—¶ï¼ˆåº”ç”¨strå˜é‡ï¼‰ï¼Œå»ºè®®ä½¿ç”¨å¯¹è±¡æ–¹å¼

```text
let as = "ashuntefannao";
let str = "ashun";
let reg = new RegExp(str);
console.log(reg.test(as)); //true
```

æ ¹æ®ç”¨æˆ·è¾“å…¥é«˜äº®æ˜¾ç¤ºå†…å®¹ï¼Œæ”¯æŒç”¨æˆ·è¾“å…¥æ­£åˆ™è¡¨è¾¾å¼

```text
<body>
  <div id="content">ashuntefannao</div>
</body>
<script>
	let matchStr = prompt("è¯·è¾“å…¥æœç´¢çš„å­—ç¬¦ä¸²,æ”¯æŒè¾“å…¥æ­£åˆ™");
  let reg = new RegExp(matchStr, "g");
  let dom = document.querySelector("#content");
  dom.innerHTML = dom.innerHTML.replace(reg, (str) => {
  	console.log(str);
  	return `<strong style="color:red;">${str}</strong>`;
  });
</script>
```

é€šè¿‡å¯¹è±¡åˆ›å»ºæ­£åˆ™ï¼Œæå–æ ‡ç­¾

```text
<body>
 		<h1>ashuntefannao</h1>
    <h1>ASHUN</h1>
</body>
<script>
{
        function getElement(ele) {
          let html = document.body.innerHTML;
          let matchStr = `<(${ele})>.+</\\1>`;
          let reg = new RegExp(matchStr, "g");

          console.table(html.match(reg));
        }
        getElement("h1");
}
</script>
```



---

#### é€‰æ‹©ç¬¦

é€‰æ‹©ä¿®é‡Šç¬¦`|` è¿™ä¸ªç¬¦å·å¸¦è¡¨`æˆ–`çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯ `|` å·¦å³ä¸¤ä¾§æœ‰ä¸€ä¸ªåŒ¹é…åˆ°å°±å¯ä»¥ã€‚

###### *è¦æ³¨æ„ï¼šä½¿ç”¨çš„èŒƒå›´ä¸åŒï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿä¸åŒ*

* å¦‚æœåœ¨æ•´ä¸ªè¡¨è¾¾å¼ä½¿ç”¨ï¼Œåˆ™å°†æ•´ä¸ªè¡¨è¾¾å¼ä¸€åˆ†ä¸ºäºŒ
* åŒç†ï¼Œåœ¨åŸå­ç»„ä¸­ä½¿ç”¨ï¼Œåˆ™åªæ˜¯å°†å½“å‰åŸå­ç»„ä¸€åˆ†ä¸ºäºŒ

æ£€æµ‹ç”µè¯æ˜¯å¦æ˜¯ä¸Šæµ·æˆ–åŒ—äº¬çš„åæœº

```text
let tel = "010-12345678";
//é”™è¯¯ç»“æœï¼šåªåŒ¹é… | å·¦å³ä¸¤è¾¹ä»»ä¸€ç»“æœ
console.log(tel.match(/010|020\-\d{7,8}/)); 

//æ­£ç¡®ç»“æœï¼šéœ€è¦æ”¾åœ¨åŸå­ç»„ä¸­ä½¿ç”¨ï¼Œå°†å½“å‰åŸå­ç»„ä¸€åˆ†ä¸ºäºŒ
console.log(tel.match(/(010|020)\-\d{7,8}/));
```

åŒ¹é…å­—ç¬¦æ˜¯å¦åŒ…å«`ashuntefannao` æˆ– `ashun`

```text
const title = "ashuntefannao";
console.log(/ashuntefannao|ashun/.test(title)); //true
```



---

#### å­—ç¬¦è½¬ä¹‰

`\è¢«è½¬ä¹‰å­—ç¬¦`

* è½¬ä¹‰ç”¨äº `æ”¹å˜å­—ç¬¦çš„å«ä¹‰`ï¼Œç”¨æ¥å¤„ç† `æŸä¸ªå­—ç¬¦æœ‰å¤šç§è¯­ä¹‰æ—¶` çš„æƒ…å†µã€‚

* åœ¨æ­£åˆ™ä¸­å…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„å­—ç¬¦ï¼Œä½¿ç”¨æ—¶éœ€è¦è½¬ä¹‰ã€‚

* å‡å¦‚æœ‰è¿™æ ·çš„åœºæ™¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³é€šè¿‡æ­£åˆ™æŸ¥æ‰¾`/`ç¬¦å·ï¼Œä½†æ˜¯ `/`åœ¨æ­£åˆ™ä¸­æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚å¦‚æœå†™æˆ`///`è¿™ä¼šé€ æˆè§£æé”™è¯¯ï¼Œæ‰€ä»¥è¦ä½¿ç”¨è½¬ä¹‰è¯­æ³• `/\//`æ¥åŒ¹é…ã€‚

```text
const url = "https://www.ashuntefannao.com";
console.log(/https:\/\//.test(url)); //true
```

ä½¿ç”¨ `RegExp` æ„å»ºæ­£åˆ™æ—¶åœ¨è½¬ä¹‰ä¸Šä¼šæœ‰äº›åŒºåˆ«ï¼Œä¸‹é¢æ˜¯å¯¹è±¡ä¸å­—é¢é‡å®šä¹‰æ­£åˆ™æ—¶åŒºåˆ«

* åœ¨æ™®é€šå­—ç¬¦ä¸²ä¸­ï¼Œè½¬ä¹‰ä¸€æ¬¡å­—ç¬¦ï¼Œç»“æœä¸å˜
* ç”±äºä½¿ç”¨å¯¹è±¡å½¢å¼`new RegExp(str,mode)`åˆ›å»ºæ­£åˆ™æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ¥æ”¶çš„æ˜¯å­—ç¬¦ä¸²ï¼Œéœ€è¦åœ¨å­—ç¬¦ä¸²ä¸­å®šä¹‰åŒ¹é…çš„è§„åˆ™ï¼Œæ‰€ä»¥ è‹¥ä½¿ç”¨ç‰¹æ®Šæ„ä¹‰çš„åŒ¹é…å­—ç¬¦ éœ€è¦è½¬ä¹‰ä¸¤æ¬¡ã€‚

```text
let price = 12.23;
//å«ä¹‰1: . é™¤æ¢è¡Œå¤–ä»»ä½•å­—ç¬¦ 	å«ä¹‰2: .æ™®é€šç‚¹
//å«ä¹‰1: d å­—æ¯d   					å«ä¹‰2: \d æ•°å­— 0~9
console.log(/\d+\.\d+/.test(price));

//å­—ç¬¦ä¸²ä¸­ \d ä¸ d æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥åœ¨ new RegExp æ—¶\d å³ä¸º d
console.log("\d" == "d");

//ä½¿ç”¨å¯¹è±¡å®šä¹‰æ­£åˆ™æ—¶ï¼Œå¯ä»¥å…ˆæŠŠå­—ç¬¦ä¸²æ‰“å°ä¸€æ ·ï¼Œç»“æœæ˜¯å­—é¢é‡ä¸€æ ·çš„å®šä¹‰å°±å¯¹äº†
console.log("\\d+\\.\\d+");
let reg = new RegExp("\\d+\\.\\d+");
console.log(reg.test(price));
```

ä¸‹é¢æ˜¯ç½‘å€æ£€æµ‹ä¸­è½¬ä¹‰ç¬¦ä½¿ç”¨

```text
let url = "https://www.ashuntefannao.com";
console.log(url.match(/https?:\/\/w+\.\w+\.\w+/));
```



---

#### å­—ç¬¦è¾¹ç•Œ

ä½¿ç”¨å­—ç¬¦è¾¹ç•Œç¬¦ç”¨äºæ§åˆ¶åŒ¹é…å†…å®¹çš„å¼€å§‹ä¸ç»“æŸçº¦å®šã€‚

| è¾¹ç•Œç¬¦ | è¯´æ˜                         |
| ------ | ---------------------------- |
| ^      | åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹             |
| $      | åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸï¼Œå¿½ç•¥æ¢è¡Œç¬¦ |

åŒ¹é…å†…å®¹å¿…é¡»ä»¥`www`å¼€å§‹

```text
const as = "www.ashuntefannao.com";
console.log(/^www/.test(as)); //true
```

åŒ¹é…å†…å®¹å¿…é¡»ä»¥`.com`ç»“æŸ

```text
const as = "www.ashuntefannao.com";
console.log(/\.com$/.test(as)); //true
```

æ£€æµ‹ç”¨æˆ·åé•¿åº¦ä¸º3~6ä½ï¼Œä¸”åªèƒ½ä¸ºå­—æ¯ã€‚å¦‚æœä¸ä½¿ç”¨ `^ä¸$` é™åˆ¶å°†å¾—ä¸åˆ°æ­£ç¡®ç»“æœ

```text
<body>
  <input type="text" name="username" />
</body>

<script>
  	document.querySelector("[name='username']")
          .addEventListener("input", function () {
            let test = this.value.match(/^[a-zA-Z]{3,6}$/);
            console.log(test ? "æ­£ç¡®" : "é”™è¯¯");
          });
</script>
```

```
				let reg = /[a-zA-Z]{3,6}/;
        let reg1 = /^[a-zA-Z]{3,6}$/;
        
        //ä¸ä½¿ç”¨^$é™åˆ¶ï¼Œè™½ç„¶å­—ç¬¦ä¸²é•¿åº¦ä¸è¶³æ—¶ä¹Ÿå¯è¿”å›æ­£ç¡®ç»“æœ
        //ä½†å­—ç¬¦ä¸²é•¿åº¦è¶…å‡ºæ—¶ï¼Œè¿”å›çš„æ˜¯è‡ªå‰å‘ååŒ¹é…çš„ç»“æœ
        console.log("as".match(reg));							//null
        console.log("123ashuntefannao123".match(reg));	//["ashunt"]
				
				//ä½¿ç”¨^$è¿›è¡Œé™åˆ¶ï¼Œä»¥å­—æ¯3-6ä½å¼€å¤´ï¼Œå¹¶ä»¥å­—æ¯3-6ä½ç»“å°¾ï¼Œåˆ™åŒ¹é…ç»“æœä¸º3-6ä½çº¯å­—æ¯
        console.log("ashuntefannao".match(reg1)); //null
        console.log("as".match(reg1)); 						//null
        console.log("ashun".match(reg1)); 				//["ashun"]
				
				//åªæ˜¯ç”¨^é™åˆ¶ï¼Œåˆ™åªè¦å¼€å¤´æ»¡è¶³3-6ä½çº¯å­—æ¯å³å¯
        console.log("ashuntefannao123".match(/^[a-zA-Z]{3,6}/)); //["ashunt"]
        //åªæ˜¯ç”¨$é™åˆ¶ï¼Œåˆ™åªè¦ç»“å°¾æ»¡è¶³3-6ä½çº¯å­—æ¯å³å¯
        console.log("132ashuntefannao".match(/[a-zA-Z]{3,6}$/)); //["fannao"]
```



---

### å…ƒå­—ç¬¦

å…ƒå­—ç¬¦æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„æœ€å°å…ƒç´ ï¼Œåªä»£è¡¨å•ä¸€ï¼ˆä¸€ä¸ªï¼‰å­—ç¬¦ã€‚

#### æ™®é€šå…ƒå­—ç¬¦

æ™®é€šå…ƒå­—ç¬¦ï¼Œå³ åœ¨æ­£åˆ™ä¸­æ²¡æœ‰ç‰¹æ®Šæ„ä¹‰çš„ æ™®é€šå­—ç¬¦ã€‚

```
let a = "ashun";
console.log(/a/.test(a)); 		//true
console.log(a.match(/a/)[0]); //a
```



---

#### ç‰¹æ®Šå…ƒå­—ç¬¦

| å…ƒå­—ç¬¦   | è¯´æ˜                                                 | ç¤ºä¾‹                    |
| -------- | ---------------------------------------------------- | ----------------------- |
| \d       | åŒ¹é…ä»»æ„ä¸€ä¸ªæ•°å­—                                     | [0-9]                   |
| \D       | ä¸é™¤äº†æ•°å­—ä»¥å¤–çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦åŒ¹é…                     | [^0-9]                  |
| \w       | ä¸ä»»æ„ä¸€ä¸ªå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿åŒ¹é…                     | [a-zA-Z0-9_]            |
| \W       | é™¤äº† å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ä»¥å¤– ä¸ä»»ä½•å­—ç¬¦åŒ¹é…           | [^a-zA-Z0-9_]           |
| \s       | ä»»æ„ä¸€ä¸ªç©ºç™½å­—ç¬¦åŒ¹é…ï¼Œå¦‚ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦`\t`ï¼Œæ¢è¡Œç¬¦`\n` | [\n\f\r\t\v]            |
| \S       | é™¤äº†ç©ºç™½ç¬¦å¤–ä»»æ„ä¸€ä¸ªå­—ç¬¦åŒ¹é…                         | [^\n\f\r\t\v]           |
| \p{prop} | é…åˆ`u`æ¨¡å¼ï¼ŒåŒ¹é…å¯¹åº”å±æ€§çš„å­—ç¬¦                      | ( \p{P} \| \p{sc=Han} ) |
| .        | åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„ä»»æ„å­—ç¬¦                             | [^\n]                   |



#### ä½¿ç”¨ä½“éªŒ

åŒ¹é…ä»»æ„æ•°å­—

```text
let as = "Ashuntefannao 2020";
console.log(as.match(/\d/g)); //["2", "0", "2", "0"]
```

åŒ¹é…æ‰€æœ‰ç”µè¯å·ç 

```text
let as = `
	å¼ ä¸‰:010-99999999,æå››:020-88888888
`;

let res = as.match(/\d{3}-\d{7,8}/g);
console.log(res);
```

è·å–æ‰€æœ‰ç”¨æˆ·å

* `-`åœ¨åŸå­ç»„`[]`ä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œä¸ºäº†é¿å…å†²çªï¼Œæœ€å¥½è½¬ä¹‰ä½¿ç”¨
* ä¸‹åˆ—æƒ…å†µæ˜¯å¦è½¬ä¹‰ï¼Œæƒ…å†µéƒ½ç›¸åŒï¼Œä½†åœ¨è¡¨ç¤ºä¸€äº›åŒ¹é…èŒƒå›´æ—¶ï¼Œå°±ä¼šæœ‰æ­§ä¹‰

```text
let as = `
å¼ ä¸‰:010-99999999,æå››:020-88888888`;
let res = as.match(/[^:\d-,\s]+/g);

console.log(/[^:\d\-,\s]+/g)
console.log(res);
```

```
console.log("103azA".match(/[0\-9]/g));	//["0"]
console.log("103azA".match(/[0-9]/g));	//["1","0","3"]
```

ä¹Ÿå¯ä½¿ç”¨`\p{prop}`ç»“åˆ`u`æ¨¡å¼ï¼ŒåŒ¹é…å±æ€§ä¸ºæ±‰å­—çš„å­—ç¬¦

```
console.log(as.match(/\p{sc=Han}{2,3}/gu)); //["å¼ ä¸‰","æå››"]
```



åŒ¹é…ä»»æ„éæ•°å­—

```text
console.log(/\D/.test(2029)); //false
```

åŒ¹é…å­—æ¯æ•°å­—ä¸‹åˆ’çº¿

```text
let as = "ashun@";
console.log(as.match(/\w/g)); //["a", "s", "h", "u", "n"]
```

åŒ¹é…é™¤äº†å­—æ¯,æ•°å­—æˆ–ä¸‹åˆ’çº¿å¤–ä¸ä»»ä½•å­—ç¬¦åŒ¹é…

```text
console.log(/\W/.test("@")); //true
```

åŒ¹é…ä¸ä»»æ„ä¸€ä¸ªç©ºç™½å­—ç¬¦

```text
console.log(/\s/.test(" ")); //true
console.log(/\s/.test("\n \t")); //true
```

åŒ¹é…é™¤äº†ç©ºç™½ç¬¦å¤–ä»»æ„ä¸€ä¸ªå­—ç¬¦åŒ¹é…

```text
let as = "ashun@";
console.log(as.match(/\S/g)); //["a", "s", "h", "u", "n","@"]
```

å¦‚æœè¦åŒ¹é… å­—ç¬¦ä¸²ç‚¹`"."` åˆ™éœ€è¦è½¬ä¹‰

```text
let as = `ashuntefannao@com`;
console.log(/ashuntefannao.com/i.test(as));  //true
console.log(/ashuntefannao\.com/i.test(as)); //false
```

ä½¿ç”¨`.`åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–ä»»æ„å­—ç¬¦ï¼Œä¸‹é¢åŒ¹é…ä¸åˆ°`ashun.com` å› ä¸ºæœ‰æ¢è¡Œç¬¦ ä¸”æ²¡æœ‰ä½¿ç”¨`g`æ¨¡å¼

```text
const url = `
  https://www.Ashuntefanano.com
  ashun.com
`;
console.log(url.match(/.+/));
```

ç‰¹æ®Šå…ƒå­—ç¬¦`.` é…åˆ`s`æ¨¡å¼ï¼Œ`.`å°±å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦ (èƒ½å¤ŸåŒ¹é…æ¢è¡Œç¬¦)

* ä½¿ç”¨`s`å•è¡Œæ¨¡å¼ï¼ˆå¿½ç•¥æ¢è¡Œï¼‰æ—¶ï¼Œå¯ä»¥åŒ¹é…æ‰€æœ‰

```text
let title = `
  <span>
    ashuntefannao
    ashun
  </span>
`;
let res = title.match(/<span>.*<\/span>/s);
console.log(res[0]);
```

æ­£åˆ™ä¸­ä¼šå°† ç©ºæ ¼ æŒ‰æ™®é€šå­—ç¬¦å¯¹å¾…

```text
let tel = `010 - 999999`;
console.log(/\d+-\d+/.test(tel)); //false
console.log(/\d+ - \d+/.test(tel)); //true
```



---

#### æ‰€æœ‰å­—ç¬¦

* å¯ä»¥ä½¿ç”¨ `[\s\S]`ã€`[\d\D]`ã€`[\w\W]`ç­‰ç­‰æ¥åŒ¹é…æ‰€æœ‰å­—ç¬¦

```text
let as = `
  <span>
    ashuntefannao
    ashun
  </span>
`;
let res = as.match(/<span>[\s\S]+<\/span>/);
console.log(res[0]);
```

* `.`ç»“åˆ`s`å•è¡Œæ¨¡å¼(å¿½ç•¥æ¢è¡Œç¬¦)ï¼Œä¹Ÿå¯åŒ¹é…æ‰€æœ‰å­—ç¬¦

```
â€¦â€¦
let res = title.match(/<span>.*<\/span>/s);
console.log(res[0]);
```





---

### åŒ¹é…æ¨¡å¼

æ­£åˆ™è¡¨è¾¾å¼åœ¨æ‰§è¡Œæ—¶ä¼šæŒ‰ä»–ä»¬çš„é»˜è®¤æ‰§è¡Œæ–¹å¼è¿›è¡Œå¤„ç†ï¼Œä½†æœ‰æ—¶å€™é»˜è®¤çš„å¤„ç†æ–¹å¼æ€»ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæ‰€ä»¥å¯ä»¥åˆ‡æ¢ä¸åŒçš„åŒ¹é…æ¨¡å¼æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ã€‚

| ä¿®é¥°ç¬¦ | è¯´æ˜                                            |
| ------ | ----------------------------------------------- |
| i      | ä¸åŒºåˆ†å¤§å°å†™å­—æ¯çš„åŒ¹é…                          |
| g      | å…¨å±€æœç´¢æ‰€æœ‰åŒ¹é…å†…å®¹                            |
| m      | è§†ä¸ºå¤šè¡Œ                                        |
| s      | è§†ä¸ºå•è¡Œå¿½ç•¥æ¢è¡Œç¬¦ï¼Œä½¿ç”¨`.` å¯ä»¥åŒ¹é…æ‰€æœ‰å­—ç¬¦    |
| y      | ä» `regexp.lastIndex` å¼€å§‹åŒ¹é…                  |
| u      | Unicodeæ¨¡å¼ï¼Œèƒ½å¤Ÿæ­£ç¡®å¤„ç†å››ä¸ªå­—ç¬¦çš„ UTF-16 ç¼–ç  |



#### i

å°†æ‰€æœ‰`ashuntefannao` ç»Ÿä¸€ä¸ºå°å†™

```text
let site = "ashuntefannao ASHUNTEFANNAO";
site = site.replace(/ashuntefannao/gi, "ashuntefannao");
console.log(site);
```



#### g

ä½¿ç”¨ `g` æ¨¡å¼ï¼Œå¯ä»¥æœç´¢åˆ°æ‰€æœ‰æ»¡è¶³åŒ¹é…è§„åˆ™çš„string

```text
 {
        let as = "ashuntefannao";
        as = as.replace(/n/, "@");
        console.log(as); //æ²¡æœ‰ä½¿ç”¨ g ä¿®é¥°ç¬¦æ˜¯ï¼Œåªæ›¿æ¢äº†ç¬¬ä¸€ä¸ª n
}
{
        let as = "ashuntefannao";
        as = as.replace(/n/g, "@");
        console.log(as); //ä½¿ç”¨å…¨å±€ä¿®é¥°ç¬¦åæ›¿æ¢äº†å…¨éƒ¨çš„ n
}
```



#### m

`m`å¤šè¡ŒåŒ¹é…æ¨¡å¼ï¼Œç»“åˆ`^$`å¯çº¦æŸåŒ¹é…å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€è¡Œã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼šå­—ç¬¦ä¸²å­˜åœ¨æ¢è¡Œç¬¦`\n`æ—¶ï¼Œå­—ç¬¦ä¸²æœ‰å‡ è¡Œï¼Œå°±åŒ¹é…å¤šå°‘æ¬¡ã€‚å¹¶ä¸”æ¯ä¸€è¡Œéƒ½å¯ä½¿ç”¨`^$`è¿›è¡Œçº¦æŸã€‚

* é»˜è®¤æƒ…å†µä¸‹ï¼Œæ— è®ºå­—ç¬¦ä¸²æ˜¯å¦æœ‰æ¢è¡Œç¬¦ï¼Œéƒ½åªæœ‰ä¸€ä¸ªå¼€å¤´`^`å’Œç»“å°¾`$`
* ç»“åˆ`m`æ¨¡å¼ï¼Œæ¯ä¸€è¡Œéƒ½æœ‰è‡ªèº«çš„`^$`

```
  {
        let str = `
        # jsES6 #
        # vue2.0 #
        # ashunte #
        `;
        console.log(str.match(/^\s*#\s+.*\s#$/gm));	
        console.log(str.match(/^\s*#\s+.+#\s*$/g));//null
  }
```

ä¸‹ä¾‹æ˜¯å°†ä»¥ `#æ•°å­—`å¼€å§‹çš„è¯¾ç¨‹è§£æä¸ºå¯¹è±¡ç»“æ„ï¼Œå­¦ä¹ è¿‡åé¢è®²åˆ°çš„åŸå­ç»„å¯ä»¥è®©ä»£ç ç®€å•äº›

```text
{
  			let str = `
  				#1 js,200å…ƒ #
  				#2 php,300å…ƒ #
  				#9 ashuntefannao # é˜¿é¡ºç‰¹çƒ¦æ¼
  				#3 node.js,180å…ƒ #
				`;
        let lessons = str.match(/^\s*#.+#$/gm);
        console.log(lessons);
        lessons = lessons
          .map((v) => v.replace(/\s*#\d\s*/, "").replace(/\s*#\s*/, ""))
          .map((v) => {
            let [name, price] = v.split(",");
            return { name, price };
          });
        console.log(JSON.stringify(lessons, null, 2));
}
```



#### s

`s`å•è¡Œæ¨¡å¼ï¼Œåœ¨åŒ¹é…æ—¶å¿½ç•¥`æ¢è¡Œç¬¦`ï¼Œç»“åˆ`.`èƒ½å¤ŸåŒ¹é…æ‰€æœ‰å­—ç¬¦

```
let str = `
      ashuntefannao.com
      999999999
      !@#$%^&*()_+-
`;
console.log(str.match(/.+/gs));
```



#### u

* æ¯ä¸ªå­—ç¬¦éƒ½æœ‰å±æ€§ï¼Œå¦‚`L`å±æ€§è¡¨ç¤ºæ˜¯å­—æ¯ï¼Œ`P` è¡¨ç¤ºæ ‡ç‚¹ç¬¦å·
* å…¶ä»–å±æ€§ç®€å†™å¯ä»¥è®¿é—® [å±æ€§çš„åˆ«å](https://www.unicode.org/Public/UCD/latest/ucd/PropertyValueAliases.txt)ç½‘ç«™æŸ¥çœ‹ã€‚
* åœ¨æ­£åˆ™ä¸­ï¼Œä½¿ç”¨`\p{prop}`æ¥åŒ¹é…å¯¹åº”å±æ€§çš„å­—ç¬¦
* `\p{prop}`éœ€è¦ç»“åˆ `u` æ¨¡å¼æ‰æœ‰æ•ˆã€‚

å­—ç¬¦ä¹Ÿæœ‰unicodeæ–‡å­—ç³»ç»Ÿå±æ€§ `Script=æ–‡å­—ç³»ç»Ÿ`ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ `\p{sc=Han}` è·å–ä¸­æ–‡å­—ç¬¦ `han`ä¸ºä¸­æ–‡ç³»ç»Ÿï¼Œå…¶ä»–è¯­è¨€è¯·æŸ¥çœ‹ [æ–‡å­—è¯­è¨€è¡¨](http://www.unicode.org/standard/supported.html)

```
 let user = `
        é˜¿é¡º-157******01
        å¼ ä¸‰-132******88
 `;
let reg = /\p{sc=Han}+/gu;
console.log(user.match(reg));
```

ä½¿ç”¨ `u` æ¨¡å¼å¯ä»¥æ­£ç¡®å¤„ç†å››ä¸ªå­—ç¬¦çš„ UTF-16 å­—èŠ‚ç¼–ç 

```text
let str = "ğ’³ğ’´";
console.table(str.match(/[ğ’³ğ’´]/)); //ç»“æœä¸ºä¹±å­—ç¬¦"ï¿½"

console.table(str.match(/[ğ’³ğ’´]/u)); //ç»“æœæ­£ç¡® "ğ’³"
```



#### lastIndex

`reg.lastIndex` å¯ä»¥è¿”å›æˆ–è€…è®¾ç½®æ­£åˆ™è¡¨è¾¾å¼`å¼€å§‹åŒ¹é…çš„ä½ç½®`

- **å¿…é¡»ç»“åˆ `g`æˆ–`y` æ¨¡å¼ä½¿ç”¨**
- **åªå¯¹ `exec` æ–¹æ³•æœ‰æ•ˆ**
- **ä½¿ç”¨ `exec` åŒ¹é…å®Œæ‰€æœ‰ç»“æœæ—¶ï¼Œ`lastIndex` ä¼šè¢«é‡ç½®ä¸º0**

```text
 {
        let text = `é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼,é˜¿é¡ºä¸å–œæ¬¢çƒ¦æ¼`;
        let reg = /é˜¿é¡º(.{2})/g;
        reg.lastIndex = 10; //ä»ç´¢å¼•10å¼€å§‹æœç´¢
        console.log(reg.exec(text));
        console.log(reg.lastIndex); //ä¸Šæ¬¡åŒ¹é…çš„ç»“æŸä½ç½®+1=ä¸‹æ¬¡åŒ¹é…çš„å¼€å§‹ä½ç½®:18

        reg = /\p{sc=Han}/gu;
        while ((res = reg.exec(text))) {
          console.log(res[0]);
        }
        console.log(reg.lastIndex);	//åŒ¹é…å®Œæ‰€æœ‰ç»“æœï¼ŒlastIndexé‡ç½®ä¸º0
}
```

`reg.lastIndex`åªå¯¹`reg.exec`æœ‰æ•ˆï¼Œå¯¹`str.match()`æ¯«æ— å½±å“

```
  {
        let str = "ashuntefannao";
        let reg = /a/g;
        reg.lastIndex = 11;
        console.log(str.match(reg)); //["a","a","a"]
  }
```





#### y

æˆ‘ä»¬æ¥å¯¹æ¯” `y` ä¸`g` æ¨¡å¼ï¼Œåœ¨ç»“åˆ`lastIndex`æ—¶çš„ä½¿ç”¨å·®å¼‚ã€‚

* ä½¿ç”¨ `g` æ¨¡å¼ä¼šå…¨å±€åŒ¹é…ï¼Œä»å¤´æŸ¥åˆ°å°¾ï¼Œä¸€ç›´åŒ¹é…å­—ç¬¦ä¸²

```text
{
        let str = "ashuntefannao";
        let reg = /a/g;
        console.log(reg.exec(str));
        console.log(reg.lastIndex); //1
        console.log(reg.exec(str));
        console.log(reg.lastIndex); //9
        console.log(reg.exec(str));
        console.log(reg.lastIndex); //12
        console.log(reg.exec(str)); //null
        console.log(reg.lastIndex); //0
}
```

* ä½†ä½¿ç”¨`y` æ¨¡å¼åå¦‚æœä» `lastIndex` å¼€å§‹åŒ¹é…ä¸æˆåŠŸå°±ä¸ç»§ç»­åŒ¹é…äº† ï¼ŒåŒ¹é…ç»“æŸ`lastIndex`ä¹Ÿä¼šç½®ä¸º0

```text
let str = "fannao";
let reg = /a/y;
reg.lastIndex = 1;
console.log(reg.exec(str));
console.log(reg.lastIndex); //2
console.log(reg.exec(str)); //null
console.log(reg.lastIndex); //0
```

å› ä¸ºä½¿ç”¨ `y` æ¨¡å¼å¯ä»¥åœ¨`lastIndex`åŒ¹é…ä¸åˆ°æ—¶åœæ­¢åŒ¹é…ï¼Œèµ·åˆ°åŠæ—¶æ­¢æŸçš„ä½œç”¨ï¼Œåœ¨åŒ¹é…ä¸‹é¢å­—ç¬¦ä¸­çš„qqæ—¶å¯ä»¥æé«˜åŒ¹é…æ•ˆç‡

* å¦‚æœæå‰çŸ¥é“åŒ¹é…ç›®æ ‡ **`æ˜¯è¿ç»­åœ¨ä¸€èµ·çš„`** é‚£ä¹ˆä½¿ç”¨`y`æ¨¡å¼ä¼šæ›´åŠ çš„é«˜æ•ˆ
* ä½†ç”±äºéœ€è¦ç»“åˆ`lastIndex`,æ‰€ä»¥åªèƒ½å¤Ÿä½¿ç”¨`reg.exec`ç»“åˆå¾ªç¯åŒ¹é…ã€‚

```text
{
        let title = `é˜¿é¡ºç‰¹çƒ¦æ¼QQç¾¤:11111111,999999999,88888888
        é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼,é˜¿é¡ºä¸å–œæ¬¢çƒ¦æ¼`;

        let reg = /(\d+),?/y;
        reg.lastIndex = 9;
        while ((res = reg.exec(title))) console.log(res[1]);
}
```







----

### åŸå­è¡¨

åœ¨ä¸€ç»„å­—ç¬¦ä¸­åŒ¹é…æŸä¸ªå…ƒå­—ç¬¦ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­é€šè¿‡å…ƒå­—ç¬¦è¡¨æ¥å®Œæˆï¼Œå°±æ˜¯æ”¾åˆ°`[]` (æ–¹æ‹¬å·)ä¸­ã€‚

#### ä½¿ç”¨è¯­æ³•

| åŸå­è¡¨ | è¯´æ˜                                   |
| ------ | -------------------------------------- |
| [ â€¦ ]  | åªåŒ¹é…å…¶ä¸­çš„ä¸€ä¸ªå…ƒå­—ç¬¦                 |
| [^]    | åŒ¹é…`é™¤äº†`å…¶ä¸­æ‰€æœ‰å­—ç¬¦çš„ä»»æ„ä¸€ä¸ªå…ƒå­—ç¬¦ |
| [0-9]  | åŒ¹é…0-9ä»»ä½•ä¸€ä¸ªæ•°å­—                    |
| [a-z]  | åŒ¹é…å°å†™a-zä»»ä½•ä¸€ä¸ªå­—æ¯                |
| [A-Z]  | åŒ¹é…å¤§å†™A-Zä»»ä½•ä¸€ä¸ªå­—æ¯                |

#### å®ä¾‹æ“ä½œ

ä½¿ç”¨`[]`åŒ¹é…å…¶ä¸­ä»»æ„å­—ç¬¦å³æˆåŠŸï¼Œä¸‹ä¾‹ä¸­åŒ¹é…`Af`å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œä¸ä¼šå½“æˆä¸€ä¸ªæ•´ä½“æ¥å¯¹å¾…

```text
const title = "Ashuntefannao";
console.log(/Af/.test(title)); //false
console.log(/[Af]/.test(title)); //true
```

æ—¥æœŸçš„åŒ¹é…

```text
let time = "2022-02-23";
console.log(time.match(/\d{4}([-\/])\d{2}\1\d{2}/));
```

è·å–`0~3`é—´çš„ä»»æ„æ•°å­—

```text
const num = "2";
console.log(/[0-3]/.test(num)); //true
```

åŒ¹é…`a~f`é—´çš„ä»»æ„å­—ç¬¦

```text
const char = "e";
console.log(/[a-f]/.test(char)); //true
```

é¡ºåºå¿…é¡»ä¸º`å‡åº`ï¼Œå¦åˆ™å°†æŠ¥é”™

```text
const num = "2";
console.log(/[3-0]/.test(num)); //SyntaxError
```

```text
const as = "ashuntefannao";
console.log(/[f-a]/.test(as)); //SyntaxError
```

`æ’é™¤æ³• ^ `è·å–æ‰€æœ‰ç”¨æˆ·å

```text
let user = `
å¼ ä¸‰:010-99999999,æå››:020-88888888`;
let res = user.match(/[^\s:\d\-,]+/g);
console.log(res);
```

å¯ä»¥ä½¿ç”¨ `[\s\S]` æˆ– `[\d\D]`ç­‰ç­‰ï¼ŒåŒ¹é…åˆ°æ‰€æœ‰å­—ç¬¦åŒ…æ‹¬æ¢è¡Œç¬¦

```text
...
const reg = /[\s\S]+/g;
...
```

ä¸‹é¢æ˜¯ä½¿ç”¨åŸå­è¡¨çŸ¥è¯†åˆ é™¤æ‰€æœ‰æ ‡é¢˜

```text
<body>
 		<div id="content">
 			ashuntefannao
 			<h1>ashun</h1>
 		</div>
    <h1>ashuntefannao</h1>
    <h1>ashuntefannao</h1>
    <h2>ASHUN</h2>
    <input type="text" name="username" />
</body>
<script>
        let html = document.body;
        console.log(html.innerHTML.match(/^\s*<(h[0-6])>.*<\/\1>\s*$/gm));

        html.innerHTML = html.innerHTML.replace(
          /^\s*<(h[0-6])>.*<\/\1>\s*$/gm,
          ""
        );
</script>
```



##### ä¸éœ€è¦è½¬ä¹‰çš„å­—ç¬¦

æœ‰äº›å­—ç¬¦åœ¨æ­£åˆ™ä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œä½†æ˜¯åœ¨åŸå­ç»„ä¸­å´ä¸ç”¨è½¬ä¹‰ï¼Œåªè§†ä¸ºæ™®é€šå­—ç¬¦ã€‚

* `|` ,  åŸå­è¡¨ä¸­çš„`|`åªæ˜¯æ™®é€šå­—ç¬¦ï¼Œä¸æ˜¯é€‰æ‹©ç¬¦

```
console.log("ASHUN|as".match(/[a|A]/g)); //["A", "|", "a"]
console.log("ASHUN|as".match(/(a|A)/g)); //["A", "a"]
```

* `.`  åœ¨åŸå­è¡¨ä¸­ä¹Ÿæ²¡æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œåªæ˜¯æ™®é€šçš„å­—ç¬¦`"."`ã€‚
* `+`  åœ¨åŸå­è¡¨ä¸­ä¹Ÿåªæ˜¯æ™®é€šå­—ç¬¦`"+"`

```
let site = "Ashuntefannao.com";
console.log(site.match(/[\w+.\w+]/g).join(""));
console.log(site.match(/[\w.]/g).join(""));
```

è‹¥æƒ³ä½¿ç”¨è¿™äº›ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨åŸå­ç»„`()`ç»“åˆé€‰æ‹©ç¬¦`|`ï¼Œè®©åŒ¹é…å½¢æˆ`æˆ–`çš„å…³ç³»

```
let site = "Ashuntefannao.com";
console.log(site.match(/(\w+|\.)/g));
console.log(site.match(/(.+)/g));
```





----

### åŸå­ç»„

- å¦‚æœä¸€æ¬¡è¦åŒ¹é…å¤šä¸ªå…ƒå­ï¼Œå¯ä»¥é€šè¿‡å…ƒå­ç»„å®Œæˆ
- åŸå­ç»„ä¸åŸå­è¡¨çš„å·®åˆ«åœ¨äºåŸå­ç»„ä¸€æ¬¡åŒ¹é…å¤šä¸ªå…ƒå­ï¼Œè€ŒåŸå­è¡¨åˆ™æ˜¯åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œä¸”åŸå­ç»„é…åˆå…¶å®ƒçš„æ–¹æ³•ï¼Œèƒ½å¤Ÿå®Œæˆç»™æ›´å¤šçš„åŠŸèƒ½
- å…ƒå­—ç¬¦ç»„ç”¨ `()` åŒ…è£¹

ä¸‹é¢ä½¿ç”¨åŸå­ç»„åŒ¹é… `h1` æ ‡ç­¾ï¼Œå¦‚æœæƒ³åŒ¹é… `h2` åªéœ€è¦æŠŠå‰é¢åŸå­ç»„æ”¹ä¸º `h2` å³å¯ã€‚

* åŒ¹é…ç»“æŸæ ‡ç­¾æ—¶çš„ `\1` æ„ä¸ºï¼šåº”ç”¨ç¬¬ä¸€ä¸ªåŸå­ç»„åŒ¹é…åˆ°çš„å†…å®¹

```text
const dom = `<h1>é˜¿é¡ºç‰¹çƒ¦æ¼</h1>`;
console.log(/<(h1)>.+<\/\1>/.test(hd)); //true
```

#### åŸºæœ¬ä½¿ç”¨

æ²¡æœ‰ä½¿ç”¨ `g` æ¨¡å¼æ—¶ï¼Œè‡ªå‰å‘ååªåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªï¼Œä½¿ç”¨`str.match\reg.exec`æ–¹æ³• åŒ¹é…åˆ°çš„ä¿¡æ¯åŒ…å«ä»¥ä¸‹æ•°æ®

| å±æ€§    | è¯´æ˜                          |
| ------- | ----------------------------- |
| 0       | åŒ¹é…åˆ°çš„å®Œæ•´å†…å®¹              |
| 1,2.... | åŒ¹é…åˆ°çš„å„ä¸ªåŸå­ç»„å†…å®¹        |
| index   | åŒ¹é…åˆ°çš„stråœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ä½ç½® |
| input   | åŸå­—ç¬¦ä¸²                      |
| groups  | å‘½ååˆ†ç»„                      |



<img src="æ­£åˆ™è¡¨è¾¾å¼.assets/RegExp_1.png" alt="RegExp_1" style="zoom:80%;" />

```
  {
        let title = "<h3>Ashuné˜¿é¡º</h3>";
        let reg = /<(h[0-9])>(.+)<\/\1>/;
        console.log(title.match(reg));
        console.log(reg.exec(title));
  }
```

```text
let as = "Ashuntefannao.com";
console.log(as.match(/fan(nao)\.(com)/));
//["fannao.com", "nao", "com", index: 7, input: "Ashuntefannao.com", groups: undefined]
```



ä¸‹é¢ä½¿ç”¨åŸå­ç»„åŒ¹é…æ ‡é¢˜å…ƒç´ 

```text
{
        let content = `
        <h1>é˜¿é¡ºç‰¹çƒ¦æ¼</h1>
        <span>é˜¿é¡º</span>
        <h2>Ashun</h2>
      `;

        console.table(content.match(/<(h[1-6])[\s\S]*<\/\1>/g));
}
```

ä¸Šé¢ä»£ç ï¼Œåœ¨åŒ¹é…æ ‡ç­¾å¯¹å†…å®¹æ—¶ï¼ŒåŒ¹é…çš„æ˜¯ä»»æ„å­—ç¬¦ï¼Œä½†æ˜¯è¿™æ ·åœ¨åŒçº§åˆ«æ ‡é¢˜è¿ç»­æ—¶ï¼Œå°±ä¼šå‡ºé”™ã€‚

ä¼šå°†`<h1>é˜¿é¡ºç‰¹çƒ¦æ¼</h1> \n <h1>ashun</h1>`è§†ä¸º`<h1>é˜¿é¡ºâ€¦â€¦ashun</h1>`ï¼Œä¸¤ä¸ªæ ‡ç­¾çš„åŒ¹é…ç»“æœåªæœ‰ä¸€é¡¹

* åº”è¯¥æ’é™¤æ¢è¡Œç¬¦ã€‚

```
{
        let content = `
        <h1>é˜¿é¡ºç‰¹çƒ¦æ¼</h1>
        <h1>Ashuntefannao</h1>
        <span>é˜¿é¡º</span>
        <h2>Ashun</h2>
      `;

        console.table(content.match(/<(h[1-6])[\s\S]*<\/\1>/g));
        
        //æ ‡ç­¾å†…å®¹åº”è¯¥æ’é™¤æ¢è¡Œç¬¦
        console.table(content.match(/<(h[1-6]).*<\/\1>/g));
        console.table(content.match(/^\s*<(h[1-6]).*<\/\1>\s*$/gm));
}
```

æ£€æµ‹ `0~100` çš„æ•°å€¼ï¼Œä½¿ç”¨ `parseInt` å°†æ•°å€¼è½¬ä¸º10è¿›åˆ¶

```text
console.log(/^(\d{1,2}|100)$/.test(parseInt(09, 10)));
```



#### é‚®ç®±åŒ¹é…

ä¸‹é¢ä½¿ç”¨åŸå­ç»„åŒ¹é…é‚®ç®±

```text
let email = "2300071698@qq.com";
let reg = /^[\w\-]+@[\w\-]+\.(com|org|cn|cc|net)$/i;
console.dir(email.match(reg));
```

å¦‚æœé‚®ç®±æ˜¯ä»¥ä¸‹æ ¼å¼ `Ashuntefannao@as.com.cn` ä¸Šé¢è§„åˆ™å°†æ— æ•ˆï¼Œéœ€è¦å®šä¹‰ä»¥ä¸‹æ–¹å¼

* å°†`xxx.`è¿™æ ·çš„åç¼€ï¼Œå°è£…ä¸ºåˆ†å­ç»„ï¼ŒåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ª

```text
let email = `admin@Ashun.com.cn`;
let reg = /^[\w-]+@([\w-]+\.)+(org|com|cc|cn)$/;
console.log(email.match(reg));
```





#### å¼•ç”¨åŸå­ç»„

* `\number` åœ¨**åŒ¹é…**æ—¶å¼•ç”¨ç¬¬`number`ä¸ªåŸå­ç»„åŒ¹é…çš„æ•°æ®
* `$number` åœ¨**æ›¿æ¢**æ—¶å¼•ç”¨ç¬¬`number`ä¸ªåŸå­ç»„åŒ¹é…çš„æ•°æ®ã€‚

ä¸‹é¢å°† æ ‡é¢˜æ ‡ç­¾ æ›¿æ¢ä¸º `p`æ ‡ç­¾

```text
let content = `
  <h1>Ashuntefannao</h1>
  <span>é˜¿é¡º</span>
  <h2>SHUN</h2>
`;

let reg = /<(h[1-6])>(.*)<\/\1>/gi;
console.log(content.replace(reg, `<p>$2</p>`));
```



#### ? :

å¦‚æœå¸Œæœ›åŸå­ç»„**åªå‚ä¸åŒ¹é…ï¼Œä¸è¿”å›åˆ°ç»“æœå½“ä¸­**ï¼Œå¯ä½¿ç”¨ `?:` å¤„ç†ã€‚`:?`ç½®äºåŸå­ç»„å¤´éƒ¨ã€‚

ä¸‹é¢æ˜¯è·å–æ‰€æœ‰åŸŸåçš„ç¤ºä¾‹

* ç”±äºä¸‹é¢ç¬¬äºŒå±‚åµŒå¥—çš„åŸå­ç»„éƒ½ä½¿ç”¨`?:`å¤„ç†ï¼Œåˆ™åœ¨è¿”å›ç»“æœä¸­ï¼Œä¾¿æ²¡æœ‰äº†å±æ€§`2~n`ï¼Œä½†æœ‰å±æ€§`1`è¿”å›ç¬¬ä¸€å±‚åŸå­ç»„åŒ¹é…åˆ°çš„åŸŸåéƒ¨åˆ†

```text
let webs = `
  https://www.Ashuntefannao.com
  http://Ashunwang.com
  https://Ashun.com
`;

let reg = /https?:\/\/((?:\w+\.)?\w+\.(?:com|org|cn))/gi;
while ((v = reg.exec(webs))) {
  console.dir(v);
}
```



#### åˆ«å?<>

é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ä¸ä½¿ç”¨`g`æ¨¡å¼æ—¶ï¼Œå¹¶ç»“åˆ`str.match/reg.exec`æ–¹æ³•æ—¶ï¼Œå„åŸå­ç»„åŒ¹é…çš„ç»“æœå°†ä¼šå­˜å‚¨åˆ°`1~n`å±æ€§ä¸­ï¼Œä½†å¦‚æœåŸå­ç»„è¿‡å¤šï¼Œä¹Ÿå°±ä»£è¡¨RegExpè¶Šå¤æ‚ï¼Œå°±è¶Šä¸å®¹æ˜“æ‰¾åˆ°å¯¹åº”çš„åŸå­ç»„åŒ¹é…ç»“æœã€‚

å¦‚æœå¸Œæœ›è¿”å›çš„ç»„æ•°æ®æ›´æ¸…æ™°ï¼Œå¯ä»¥ä¸ºåŸå­ç»„å‘½åï¼Œç»“æœå°†ä¿å­˜åœ¨è¿”å›çš„ `groups`å­—æ®µä¸­

* è¯­æ³•`?<alia>`,å°†å…¶ç½®äºåŸå­ç»„å¤´éƒ¨å³å¯

<img src="æ­£åˆ™è¡¨è¾¾å¼.assets/RegExp_2.png" alt="RegExp_2" style="zoom:80%;" />

```text
let title = "<h1>é˜¿é¡ºç‰¹çƒ¦æ¼</h1>";
console.dir(title.match(/<(?<tag>h[1-6])(?<content>.*)<\/\1>/));
```



##### å¼•ç”¨åˆ«ååŸå­ç»„

åˆ«åä¸èƒ½åœ¨å‚ä¸åŒ¹é…æ—¶å¼•ç”¨ï¼Œè‹¥æƒ³å¼•ç”¨å¯¹åº”åŸå­ç»„ï¼Œè¿˜æ˜¯é€šè¿‡`\number`è¿›è¡Œå¼•ç”¨

* `\number`ï¼Œå‚ä¸åŒ¹é…æ—¶å¼•ç”¨
* `$<alia>`ï¼Œå‚ä¸æ›¿æ¢æ—¶ä½¿ç”¨

ç»„åˆ«åä½¿ç”¨ `?<>` å½¢å¼å®šä¹‰ï¼Œä¸‹é¢å°†æ ‡ç­¾æ›¿æ¢ä¸º`p`æ ‡ç­¾

```text
let txt = `
  <h1>Ashuntefannao</h1>
  <span>é˜¿é¡º</span>
  <h2>SHUN</h2>
`;

let reg = /<(?<tag>h[1-6])>(?<content>[\s\S]*)<\/\1>/gi;
console.log(txt.replace(reg, `<p>$<content></p>`));
```

è·å–é“¾æ¥ä¸ç½‘ç«™åç§°ç»„æˆæ•°ç»„é›†åˆ

```text
<body>
  <a href="https://astfn.github.io">AshunBlog</a>
  <a href="https://www.hdcms.com">hdcms</a>
  <a href="https://www.sina.com.cn">æ–°æµª</a>
</body>

<script>
   let body = document.body;
   let reg = /^\s*<a.+href=.*(?<link>https?:\/\/([-\w]+\.)+(?:cn|com|org|cc|github|io)).*>(?<name>.*)<\/a>\s*$/gim;
    let arr = [];
    while ((exec = reg.exec(body.innerHTML))) {
      arr.push(exec["groups"]);
    }
    console.log(arr);
</script>
```





---

### é‡å¤åŒ¹é…

#### åŸºæœ¬ä½¿ç”¨

å¦‚æœè¦é‡å¤åŒ¹é…ä¸€äº›å†…å®¹æ—¶æˆ‘ä»¬è¦ä½¿ç”¨é‡å¤åŒ¹é…ä¿®é¥°ç¬¦ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‡ ç§ã€‚

| ç¬¦å·  | è¯´æ˜             |
| ----- | ---------------- |
| *     | é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡ |
| +     | é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡ |
| ?     | é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡   |
| {n}   | é‡å¤næ¬¡          |
| {n,}  | é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡  |
| {n,m} | é‡å¤nåˆ°mæ¬¡       |

é‡å¤åŒ¹é…å¯ä»¥åº”ç”¨äº:

* å•ä¸ªå­—ç¬¦
* åŸå­è¡¨
* åŸå­ç»„

>å› ä¸ºæ­£åˆ™æœ€å°å•ä½æ˜¯å…ƒå­—ç¬¦ï¼Œè€Œæˆ‘ä»¬å¾ˆå°‘åªåŒ¹é…ä¸€ä¸ªå…ƒå­—ç¬¦å¦‚aã€bæ‰€ä»¥åŸºæœ¬ä¸Šé‡å¤åŒ¹é…åœ¨æ¯æ¡æ­£åˆ™è¯­å¥ä¸­éƒ½æ˜¯å¿…ç”¨åˆ°çš„å†…å®¹ã€‚

é»˜è®¤æƒ…å†µä¸‹,é‡å¤é€‰é¡¹å¯¹å•ä¸ªå­—ç¬¦è¿›è¡Œé‡å¤åŒ¹é…ï¼Œæ˜¯è´ªå©ªåŒ¹é…ï¼Œä¸€åªåŒ¹é…åˆ°ä¸é‡å¤ä¸ºæ­¢ã€‚

```text
let as = "assshun";
console.log(as.match(/as+/i)); //asss
```

ä½¿ç”¨åŸå­ç»„ååˆ™å¯¹æ•´ä¸ªç»„é‡å¤åŒ¹é…

```text
let as = "ashunAshuntefannao";
console.log(as.match(/(ashun)+/i)); //ashunAshun
```

ä¸‹é¢æ˜¯éªŒè¯åæœºå·çš„æ­£åˆ™

```text
let tell = "010-12345678";
console.log(/^0\d{2,3}-\d{7,8}$/.exec(tell));
```

éªŒè¯ç”¨æˆ·ååªèƒ½ä¸º3~8ä½çš„å­—æ¯æˆ–æ•°å­—ï¼Œå¹¶ä»¥å­—æ¯å¼€å§‹

* åƒè¿™ç§ä¸¥æ ¼çº¦æŸçš„æ­£åˆ™ï¼Œéœ€è¦ç”¨`^â€¦$`è¿›è¡Œçº¦æŸï¼Œè‹¥ä¸ä½¿ç”¨å…¶è¿›è¡Œçº¦æŸï¼Œé‚£ä¹ˆå¦‚æœç”¨æˆ·åç¬¦åˆå­—æ¯\æ•°å­—ï¼Œä½†æ˜¯ä½æ•°è¶…è¿‡8ä½ï¼Œä¹Ÿèƒ½åŒ¹é…æˆåŠŸï¼Œåªä¸è¿‡åªè¿”å›å‰8ä½ã€‚

```text
<body>
  <input type="text" name="username" />
</body>
<script>
  {
        let input = document.querySelector("[name='username']");
        let reg = /^[a-zA-Z](\d|[a-zA-Z]){2,7}$/;
        input.addEventListener("input", function () {
          console.log(reg.test(this.value) ? "æ­£ç¡®" : "é”™è¯¯");
        });
   }
</script>
```

éªŒè¯å¯†ç å¿…é¡»åŒ…å«å¤§å†™å­—æ¯å¹¶åœ¨5~10ä½ä¹‹é—´

* å¤šç§éªŒè¯ç»„åˆï¼Œå¯ä»¥å°†regexpç½®äºæ•°ç»„ä¸­ï¼Œéå†æ•°ç»„è¿‡ç¨‹ä¸­å¯¹strè¿›è¡Œåˆ¤æ–­

```text
<body>
<input type="text" name="password" />
</body>
<script>
let input = document.querySelector(`[name="password"]`);
input.addEventListener("keyup", e => {
  const value = e.target.value.trim();
  const regs = [/^[a-zA-Z0-9]{5,10}$/, /[A-Z]/];
  let state = regs.every(v => v.test(value));
  console.log(state ? "æ­£ç¡®ï¼" : "å¯†ç å¿…é¡»åŒ…å«å¤§å†™å­—æ¯å¹¶åœ¨5~10ä½ä¹‹é—´");
});
</script>
```



---

#### ç¦æ­¢è´ªå©ª

æ­£åˆ™è¡¨è¾¾å¼åœ¨è¿›è¡Œé‡å¤åŒ¹é…æ—¶ï¼Œ**é»˜è®¤æ˜¯è´ªå©ªåŒ¹é…æ¨¡å¼**ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šå°½é‡åŒ¹é…æ›´å¤šå†…å®¹ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™æˆ‘ä»¬å¹¶ä¸å¸Œæœ›ä»–åŒ¹é…æ›´å¤šå†…å®¹ï¼Œè¿™æ—¶å¯ä»¥é€šè¿‡ **`?`** å¯¹ é‡å¤åŒ¹é…è¯­æ³• è¿›è¡Œä¿®é¥°ï¼Œä¼šå°½å¯èƒ½çš„å°‘åŒ¹é…ã€‚

| ä½¿ç”¨   | è¯´æ˜                      |
| ------ | ------------------------- |
| *?     | 0ä¸ªæˆ–å¤šä¸ªï¼Œä½†å°½å¯èƒ½å°‘é‡å¤ |
| +?     | 1ä¸ªæˆ–å¤šä¸ªï¼Œä½†å°½å¯èƒ½å°‘é‡å¤ |
| ??     | 0ä¸ªæˆ–1ä¸ªï¼Œä½†å°½å¯èƒ½å°‘é‡å¤  |
| {n,m}? | n~mä¸ªï¼Œä½†å°½å¯èƒ½å°‘é‡å¤     |
| {n,}?  | >=nä¸ªï¼Œä½†å°½å¯èƒ½å°‘é‡å¤     |

ä¸‹é¢æ˜¯ç¦æ­¢è´ªå©ªçš„è¯­æ³•ä¾‹å­

```
   {
        let str = "assshun";
        // let reg = /as+?/;      //as
        // let reg = /as*?/;      //a
        // let reg = /as??/;      //a
        // let reg = /as{2,}?/;   //ass
        // let reg = /as{2,3}?/;  //ass

        console.log(str.match(reg));
   }
```

å°†æ‰€æœ‰spanæ›´æ¢ä¸º`h5` å¹¶æçº¢ï¼Œå¹¶åœ¨å†…å®¹å‰åŠ ä¸Š `é˜¿é¡º-`

* ä¹‹å‰æˆ‘ä»¬æåˆ°è¿‡ï¼Œåœ¨åŒ¹é…æ ‡ç­¾æ—¶ï¼Œæ ‡ç­¾å¯¹çš„å†…å®¹è¦å¿½ç•¥æ¢è¡Œç¬¦ï¼Œä¸ºäº†é¿å…åŒåæ ‡ç­¾è¿ç»­æ—¶ï¼Œåˆå¹¶åŒ¹é…çš„æƒ…å†µ
* å…¶å®æˆ‘ä»¬ä¹Ÿå¯ä½¿ç”¨ç¦æ­¢è´ªå©ªï¼Œæ¥è¿›è¡Œçº¦æŸï¼Œå¹¶ä¸”ç¦æ­¢è´ªå©ªæƒ…å†µä¸‹ï¼Œä¹Ÿå°±ä¸å¿…ä½¿ç”¨`m`æ¨¡å¼é…åˆ`^$`è¿›è¡Œä¸¥æ ¼çº¦æŸäº†ã€‚

```text
<body>
  <main>
    <span>ashunwang</span>
    <span>ashun.com</span>
    <span>ashuntefannao.com</span>
  </main>
</body>
<script>
  const main = document.querySelector("main");
  const reg = /<span>([\s\S]+?)<\/span>/gi;
  main.innerHTML = main.innerHTML.replace(reg, (v, p1) => {
    console.log(p1);
    return `<h4 style="color:red">åç›¾äºº-${p1}</h4>`;
  });
</script>
```

ä¸‹é¢æ˜¯ä½¿ç”¨ç¦æ­¢è´ªå©ªæŸ¥æ‰¾é¡µé¢ä¸­çš„æ ‡é¢˜å…ƒç´ 

```text
<body>
 		<div id="content">
      ashuntefannao
      <h1>ashun</h1>
    </div>
    <h1>ashuntefannao</h1>
    <h1>ashuntefannao</h1>
    <h2>ASHUN</h2>
</body>

<script>
{
        let body = document.body.innerHTML;
        let reg = /<(h[1-6])>[\s\S]*?<\/\1>/gi;
        // let reg = /^\s*?<(h[1-6])>[\s\S]*?<\/\1>\s*?$/gim;
        console.table(body.match(reg));
}
</script>
```





---

### ç»†èŠ‚è¿”å›

#### é—®é¢˜åˆ†æ

é€šè¿‡ä¹‹å‰çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬çŸ¥é“`str.match`æ–¹æ³•ï¼š

* åœ¨é`g`å…¨å±€åŒ¹é…æ¨¡å¼ä¸‹ï¼Œåªè¿”å›ä¸€ä¸ªåŒ¹é…ç»“æœï¼Œå¹¶ä¸”åŒ…å«åŒ¹é…ç»†èŠ‚å‚æ•°
* åœ¨`g`æ¨¡å¼ä¸‹ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…å†…å®¹çš„Arrayï¼Œä½†æ˜¯æ¯ä¸ªå…ƒç´ ä¸åŒ…å«åŒ¹é…ç»†èŠ‚

```text
<body>
  <h1>Ashuntefannao.com</h1>
  <h2>ashun.com</h2>
  <h1>é˜¿é¡ºç‰¹çƒ¦æ¼</h1>
</body>

<script>
  function elem(tag) {
    const reg = new RegExp(`<(${tag}).*>.+?</\\1>`, "g");
    return document.body.innerHTML.match(reg);
  }
  console.table(elem("h1"));
</script>
```



#### matchAll

åœ¨**æ–°ç‰ˆæœ¬æµè§ˆå™¨**ä¸­æ”¯æŒä½¿ç”¨ `matchAll` æ“ä½œï¼Œå¹¶è¿”å›è¿­ä»£å¯¹è±¡

> éœ€è¦æ·»åŠ  `g` ä¿®é¥°ç¬¦

```
   {
        let str = "as";
        let reg = /./g;
        let iterator = str.matchAll(reg);
        console.log(iterator.next()); //{ value:Array(1), done:false }
        console.log(iterator.next()); //{ value:Array(1), done:false }
        console.log(iterator.next()); //{ value:undefined, done:true }
    }
```

å¯è¿­ä»£å¯¹è±¡å¯ä½¿ç”¨`for/of`éå†

```text
let str = "Ashuntefannao";
let reg = /[a-z]/ig;
for (const iterator of str.matchAll(reg)) {
  console.log(iterator);
}
```

åœ¨åŸå‹å®šä¹‰ `matchAll`æ–¹æ³•ï¼Œç”¨äºåœ¨æ—§æµè§ˆå™¨ä¸­å·¥ä½œï¼Œä¸éœ€è¦æ·»åŠ `g` æ¨¡å¼è¿è¡Œ

```text
{
        String.prototype.matchAll = function (reg) {
          let match = this.match(reg);
          if (match) {
            let str = this.replace(reg, "^".repeat(match[0].length));
            let matchArr = str.matchAll(reg) || [];
            return [match, ...matchArr];
          }
        };
        let reg = /a/;
        console.log("ashuna".matchAll(reg));
}
```



#### exec

ä½¿ç”¨ `g` æ¨¡å¼ä¿®æ­£ç¬¦å¹¶ç»“åˆ `exec` å¾ªç¯æ“ä½œå¯ä»¥è·å–ç»“æœå’ŒåŒ¹é…ç»†èŠ‚

```text
<body>
  <h1>ashuntefannao.com</h1>
  <h1>é˜¿é¡º</h1>
  <h2>Ashun.com</h2>
</body>
<script>
  function search(string, reg) {
    const matchs = [];
    while ((data = reg.exec( string))) {
      matchs.push(data);
    }
    return matchs;
  }
  console.log(search(document.body.innerHTML, /<(h[1-6]).*?>[\s\S]+?<\/\1>/gi));
</script>
```

ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„å‡½æ•°æ¥æ£€ç´¢å­—ç¬¦ä¸²ä¸­çš„ç½‘å€

```text
let sites = `https://ashunwang.com  
https://www.sina.com.cn
https://astfn.github.io`;

let res = search(sites, /https?:\/\/(\w+\.)?(\w+\.)+(com|cn|io)/gi);
console.dir(res);
```



---

### å­—ç¬¦æ–¹æ³•

ä¸‹é¢ä»‹ç»çš„æ–¹æ³•æ˜¯ `String` æä¾›çš„æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•

#### search

`search(str/reg)` æ–¹æ³•ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å­å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢ï¼Œè¿”å›å€¼ä¸ºç´¢å¼•ä½ç½®

```text
let str = "Ashuntefannao.com";
console.log(str.search(".com"));
```

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢

```text
console.log(str.search(/\.com/i));
```

#### match

ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²æœç´¢

```text
let str = "Ashuntefannao.com";
console.log(str.match("com"));
```

ä½¿ç”¨æ­£åˆ™è·å–å†…å®¹ï¼Œä¸‹é¢æ˜¯ç®€å•çš„æœç´¢å­—ç¬¦ä¸², é`g`æ¨¡å¼ä¸‹ï¼ŒåªåŒ¹é…ä¸€æ¬¡ï¼Œä¸”è¿”å›è¯¦ç»†å‚æ•°ä¿¡æ¯ã€‚

```text
let as = "Ashuntefannao";
let res = as.match(/a/i);
console.log(res);
console.log(res[0]); //åŒ¹é…çš„ç»“æœ
console.log(res[index]); //å‡ºç°çš„ä½ç½®
```

å¦‚æœä½¿ç”¨ `g` ä¿®é¥°ç¬¦æ—¶ï¼Œå°±ä¸ä¼šæœ‰ç»“æœçš„è¯¦ç»†ä¿¡æ¯äº†ï¼ˆå¯ä»¥ä½¿ç”¨execï¼‰ï¼Œä¸‹é¢æ˜¯è·å–æ‰€æœ‰h1~6çš„æ ‡é¢˜å…ƒç´ 

```text
let body = document.body.innerHTML;
let result = body.match(/<(h[1-6]).*?>[\s\S]+?<\/\1>/g);
console.table(result);
```

#### matchAll

åœ¨æ–°æµè§ˆå™¨ä¸­æ”¯æŒä½¿ç”¨ `matchAll` ç»“åˆ`g`æ¨¡å¼æ“ä½œï¼Œå¹¶è¿”å›è¿­ä»£å¯¹è±¡

```text
let str = "Ashuntefannao";
let reg = /[a-z]/ig;
for (const iterator of str.matchAll(reg)) {
  console.log(iterator);
}
```



#### split

ç”¨äºä½¿ç”¨å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼åˆ†éš”å­—ç¬¦ä¸²ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²åˆ†éš”æ—¥æœŸ

```text
let str = "2023-02-12";
console.log(str.split("-")); //["2023", "02", "12"]
```

å¦‚æœæ—¥æœŸçš„è¿æ¥ç¬¦ä¸ç¡®å®šï¼Œé‚£å°±è¦ä½¿ç”¨æ­£åˆ™æ“ä½œäº†

```text
let str = "2023/02-12";
console.log(str.split(/-|\//));
```



#### replace

`replace` æ–¹æ³•ä¸ä»…å¯ä»¥æ‰§è¡ŒåŸºæœ¬å­—ç¬¦æ›¿æ¢ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œæ­£åˆ™æ›¿æ¢ï¼Œä¸‹é¢æ›¿æ¢æ—¥æœŸè¿æ¥ç¬¦

```text
let str = "2023/02/12";
console.log(str.replace(/\//g, "-")); //2023-02-12
```

æ›¿æ¢å­—ç¬¦ä¸²å¯ä»¥æ’å…¥ä¸‹é¢çš„ç‰¹æ®Šå˜é‡åï¼š

| å˜é‡      | è¯´æ˜                                                         |
| --------- | ------------------------------------------------------------ |
| $$        | æ’å…¥ä¸€ä¸ª "$"ã€‚                                               |
| $&        | æ’å…¥åŒ¹é…çš„ç»“æœã€‚                                             |
| $`        | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚                               |
| $'        | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚                               |
| $n        | å‡å¦‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ `RegExp` ï¼Œå¹¶ä¸” n æ˜¯ä¸ªå°äº100çš„éè´Ÿæ•´æ•°ï¼Œåˆ™`$n`æ„ä¸ºï¼šæ’å…¥ç¬¬ n ä¸ªåŸå­ç»„åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚æç¤ºï¼šç´¢å¼•æ˜¯ä»1å¼€å§‹ |
| $\<alia\> | ä¸`$n`ç±»ä¼¼ï¼Œä¹Ÿæ˜¯æ’å…¥åŸå­ç»„åŒ¹é…çš„å†…å®¹ï¼Œä½†`$<alia>`æ˜¯é€šè¿‡åˆ«åé”å®šå¯¹åº”åŸå­ç»„ |

åœ¨"é˜¿é¡º"å‰åå†åˆ†åˆ«æ·»åŠ 2ä¸ª`=`

```text
let as = "=é˜¿é¡º=";
console.log(as.replace(/é˜¿é¡º/g, "$`$`$&$'$'")); // ===é˜¿é¡º===
```

æŠŠç”µè¯å·ç”¨ `-` è¿æ¥

```text
let tell = "(010)99999999 (020)8888888";
console.log(tell.replace(/\((\d{3,4})\)(\d{7,8})/g, "$1-$2"));
```

æŠŠæ‰€æœ‰`é˜¿é¡º`å…³é”®å­—åŠ ä¸Šé“¾æ¥ `https://www.Ashuntefannao.com`

```text
<body>
  é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼ï¼Œé˜¿é¡ºè®¨åŒçƒ¦æ¼
</body>
<script>
  const body = document.body;
  body.innerHTML = body.innerHTML.replace(
    /é˜¿é¡º/g,
    `<a href="https://www.Ashuntefannao.com">$&</a>`
  );
</script>
```



----

##### **å›è°ƒå‡½æ•°**

replace æ”¯æŒå›è°ƒå‡½æ•°æ“ä½œï¼Œç”¨äºå¤„ç†å¤æ‚çš„æ›¿æ¢é€»è¾‘ï¼Œå›è°ƒå‡½æ•°å‚æ•°ä¸`str.match\str.matchAll\reg.exec`è¿”å›çš„è¯¦ç»†å‚æ•°æ˜¯å¯¹åº”çš„ã€‚

| å˜é‡å            | ä»£è¡¨çš„å€¼                                                     |
| ----------------- | ------------------------------------------------------------ |
| `str`             | åŒ¹é…çš„å­ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$&ã€‚ï¼‰                             |
| `p1,p2, ...`      | å‡å¦‚replace()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª `RegExp` ï¼Œåˆ™ä»£è¡¨ç¬¬nä¸ªåŸå­ç»„åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ |
| `index`           | åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„ç´¢å¼•ã€‚ï¼ˆæ¯”å¦‚ï¼Œå¦‚æœåŸå­—ç¬¦ä¸²æ˜¯ `'abcd'`ï¼ŒåŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²æ˜¯ `'bc'`ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°å°†ä¼šæ˜¯ 1ï¼‰ |
| `source`          | è¢«åŒ¹é…çš„åŸå­—ç¬¦ä¸²ã€‚                                           |
| NamedCaptureGroup | å‘½åæ•è·ç»„åŒ¹é…çš„å¯¹è±¡                                         |

å°†å…³äºashunçš„é“¾æ¥åè®®å…¨éƒ¨ç½®ä¸º`https` ï¼Œå¹¶è¡¥å…¨ `www.`

```text
<body>
  <main>
    <a style="color: red" href="http://www.ashun.com"> é˜¿é¡º </a>
    <a id="l1" href="http://Ashuntefannao.com">é˜¿é¡ºç‰¹çƒ¦æ¼</a>
    <a href="http://yahoo.com">é›…è™</a>
    <h4>http://www.ashun.com</h4>
  </main>
</body>
<script>
 {
        let reg = /(<a.*?)(http)?(:\/\/)(www\.)?(Ashuntefannao|ashun)/g;
        let body = document.body;
        body.innerHTML = body.innerHTML.replace(reg, (val, ...args) => {
          args[1] = "https";
          args[3] = args[3] || "www.";
          return args.slice(0, 5).join("");
        });
        console.log(body.innerHTML.match(reg));
  }
</script>
```

å°†æ ‡é¢˜æ ‡ç­¾å…¨éƒ¨æ›¿æ¢ä¸º `p` æ ‡ç­¾

```text
<body>
  <h1>Ashuntefannao.com</h1>
  <h2>ashun.com</h2>
  <h1>é˜¿é¡ºç‰¹çƒ¦æ¼</h1>
</body>

<script>
  const reg = /<(h[1-6])>(.*?)<\/\1>/g;
  const body = document.body.innerHTML;
  const html = body.replace(reg, function(str, tag, content) {
    return `<p>${content}</p>`;
  });
  document.body.innerHTML = html;
</script>
```

åˆ é™¤é¡µé¢ä¸­çš„ `h1~h6` æ ‡ç­¾

```text
<body>
  <h1>Ashuntefannao.com</h1>
  <h2>ashun.com</h2>
  <h1>é˜¿é¡ºç‰¹çƒ¦æ¼</h1>
</body>
<script>
  const reg = /<(h[1-6])>(.*?)<\/\1>/g;
  const body = document.body.innerHTML;
  const html = body.replace(reg, "");
  document.body.innerHTML = html;
</script>
```

ä½¿ç”¨å›è°ƒå‡½æ•°å°† `é˜¿é¡º` æ·»åŠ ä¸Šé“¾æ¥

```text
<body>
  <div class="content">
    é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼,é˜¿é¡ºè®¨åŒçƒ¦æ¼
  </div>
</body>

<script>
  let content = document.querySelector(".content");
  content.innerHTML = content.innerHTML.replace("é˜¿é¡º", function(
    search,
    index,
    source
  ) {
    return `<a href="https://www.Ashuntefannao.com">${search}</a>`;
  });
</script>
```

ä¸ºæ‰€æœ‰æ ‡é¢˜æ·»åŠ ä¸Š `hot` ç±»

```text
<body>
  <div class="content">
    <h1>Ashuntefannao.com</h1>
  	<h2>ashun.com</h2>
  	<h1>é˜¿é¡ºç‰¹çƒ¦æ¼</h1>
  </div>
</body>
<script>
  let content = document.querySelector(".content");
  let reg = /<(h[1-6])(.*?)>([\s\S]*?)<\/\1>/gi;
  content.innerHTML = content.innerHTML.replace(
    reg,
    (
      search, //åŒ¹é…åˆ°çš„å­—ç¬¦
      p1, //ç¬¬ä¸€ä¸ªåŸå­ç»„
      p2, //ç¬¬äºŒä¸ªåŸå­ç»„
      p3, //ç¬¬ä¸‰ä¸ªåŸå­ç»„
      index, //ç´¢å¼•ä½ç½®
      source //åŸå­—ç¬¦
    ) => {
      return `
    <${p1}${p2} class="hot">${p3}</${p1}>
    `;
    }
  );
</script>
```





---

### æ­£åˆ™æ–¹æ³•

ä¸‹é¢æ˜¯ `RegExp` æ­£åˆ™å¯¹è±¡æä¾›çš„æ“ä½œæ–¹æ³•

#### test

`reg.test(str)`ç”¨äºåˆ¤æ–­stræ˜¯å¦ç¬¦åˆåŒ¹é…æ¡ä»¶ï¼Œè¿”å›Boolean

æ£€æµ‹è¾“å…¥çš„é‚®ç®±æ˜¯å¦åˆæ³•

```text
<body>
  <input type="text" name="email" />
</body>

<script>
  let email = document.querySelector(`[name="email"]`);
  email.addEventListener("keyup", e => {
    console.log(/^\w+@\w+\.\w+$/.test(e.target.value));
  });
</script>
```

#### exec

é…åˆ `g` æ¨¡å¼ä½¿ç”¨æ—¶ï¼Œ`reg.exec(str)`å¯ä»¥å¾ªç¯è°ƒç”¨ç›´åˆ°å…¨éƒ¨åŒ¹é…å®Œã€‚

- é…åˆ `g` æ¨¡å¼ä½¿ç”¨æ—¶ï¼Œåº”ä¸€ç›´æ“ä½œåŒä¸€ä¸ªæ­£åˆ™ï¼Œå³æŠŠæ­£åˆ™å®šä¹‰ä¸ºå˜é‡ä½¿ç”¨ï¼Œè¿™æ ·æ‰èƒ½å¤Ÿä¸æ–­çš„å‘ååŒ¹é…
- ä½¿ç”¨ `g` ä¿®é¥°ç¬¦æœ€ååŒ¹é…ä¸åˆ°æ—¶è¿”å› `null`

è®¡ç®—å†…å®¹ä¸­é˜¿é¡ºå‡ºç°çš„æ¬¡æ•°

```text
<body>
  <div class="content">
    é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼ï¼Œé˜¿é¡ºè®¨åŒçƒ¦æ¼	--é˜¿é¡º
  </div>
</body>

<script>
  let content = document.querySelector(".content");
  let reg = /(?<tag>é˜¿é¡º)/g;
  let num = 0;
  while ((result = reg.exec(content.innerHTML))) {
    num++;
  }
  console.log(`é˜¿é¡ºå…±å‡ºç°${num}æ¬¡`);
</script>
```



---

### æ–­è¨€åŒ¹é…

æ–­è¨€è™½ç„¶å†™åœ¨æ‰©å·ä¸­ä½†`å®ƒä¸æ˜¯ç»„`ï¼Œæ‰€ä»¥**ä¸ä¼šåœ¨åŒ¹é…ç»“æœä¸­ä¿å­˜**ï¼Œå¯ä»¥å°†æ–­è¨€ç†è§£ä¸º`æ­£åˆ™ä¸­çš„æ¡ä»¶`ã€‚

| æ–­è¨€åŒ¹é…è¯­æ³• | å«ä¹‰                                             |
| ------------ | ------------------------------------------------ |
| (?=exp)      | å°†å…¶æ”¾ç½®äºåŒ¹é…å†…å®¹çš„åé¢ï¼Œç”¨äºçº¦æŸåé¢çš„åŒ¹é…å†…å®¹ |



#### (?=exp)

**é›¶å®½å…ˆè¡Œæ–­è¨€** `(?=exp)` åŒ¹é…åé¢ä¸º `exp` çš„å†…å®¹

æŠŠåé¢å†…å®¹ä¸º`ç‰¹çƒ¦æ¼` çš„`é˜¿é¡º`åŠ ä¸Šé“¾æ¥.

* æ–­è¨€åŒ¹é…çš„ç»“æœä¸ä¼šè¿”å›åˆ°å†…å®¹å½“ä¸­ï¼Œä»¥ä¸‹replaceæ¥æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªå‚æ•°åªæœ‰`é˜¿é¡º`
* æ–­è¨€åŒ¹é…ï¼Œåªæ˜¯ä¸€ä¸ªçº¦æŸæ¡ä»¶ã€‚

```
<body>
  <main>
    é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼ï¼Œé˜¿é¡ºè®¨åŒçƒ¦æ¼ã€‚
  </main>
</body>

<script>
  const main = document.querySelector("main");
  const reg = /é˜¿é¡º(?=ç‰¹çƒ¦æ¼)/gi;
  main.innerHTML = main.innerHTML.replace(
    reg,
    v => `<a href="https://Ashuntefannao.com">${v}</a>`
  );
</script>
```

ä¸‹é¢æ˜¯å°†ä»·æ ¼åé¢ æ·»åŠ ä¸Š `.00`

```text
<script>
  let lessons = `
    js,200å…ƒ,300æ¬¡
    php,300.00å…ƒ,100æ¬¡
    node.js,180å…ƒ,260æ¬¡
  `;
  let reg = /(\d+)(.00)?(?=å…ƒ)/gi;
  lessons = lessons.replace(reg, (v, ...args) => {
    args[1] = args[1] || ".00";
    return args.splice(0, 2).join("");
  });
  console.log(lessons);
</script>
```

ä½¿ç”¨æ–­è¨€éªŒè¯ç”¨æˆ·åå¿…é¡»ä¸ºäº”ä½ï¼Œä¸‹é¢æ­£åˆ™ä½“ç°æ–­è¨€æ˜¯ä¸æ˜¯ç»„ï¼Œå¹¶ä¸”ä¸åœ¨åŒ¹é…ç»“æœä¸­è®°å½•

```text
<body>
  <input type="text" name="username" />
</body>

<script>
  document
    .querySelector(`[name="username"]`)
    .addEventListener("keyup", function() {
      let reg = /^(?=[a-z]{5}$)/i;
      console.log(reg.exec(this.value));
    });
</script>
```



#### (?<=exp)

**é›¶å®½åè¡Œæ–­è¨€** `?<=exp` åŒ¹é…å‰é¢ä¸º `exp` çš„å†…å®¹

åŒ¹é…å‰é¢æ˜¯`Ashuntefannao` çš„æ•°å­—

```text
let str = "Ashuntefannao789Ashun666";
let reg = /(?<=Ashuntefannao)\d+/i;
console.log(str.match(reg)); //789
```

åŒ¹é…å‰åéƒ½æ˜¯æ•°å­—çš„å†…å®¹

```text
{
        let str = "Ashuntefannao789Ashun123";
        let reg = /(?<=\d)[a-z]+(?=\d)/gi;
        // let reg = /(?<=\d{3}).+(?=\d{3})/g;
        console.log(str.match(reg));
}
```

æ‰€æœ‰aæ ‡ç­¾çš„è¶…é“¾æ¥æ›¿æ¢ä¸º`Ashuntefannao.com`

```text
<body>
  <a href="https://baidu.com">ç™¾åº¦</a>
  <a href="https://yahoo.com">é›…è™</a>
</body>
<script>
  const body = document.body;
  let reg = /(?<=<a.*href=(['"])).+?(?=\1)/gi;
  // console.log(body.innerHTML.match(reg));
  body.innerHTML = body.innerHTML.replace(reg, "https://Ashuntefannao.com");
</script>
```

æŠŠå‰é¢å†…å®¹ä¸º`é˜¿é¡º` çš„`ç‰¹çƒ¦æ¼`åŠ ä¸Šé“¾æ¥.

```text
<body>
  <main>
    é˜¿é¡ºç‰¹çƒ¦æ¼å¸Œæœ›å¤§å®¶æ²¡æœ‰çƒ¦æ¼ï¼Œé˜¿é¡ºè®¨åŒçƒ¦æ¼ã€‚
  </main>
</body>

<script>
  const main = document.querySelector("main");
  const reg = /(?<=é˜¿é¡º)ç‰¹çƒ¦æ¼/gi;
  main.innerHTML = main.innerHTML.replace(
    reg,
    v => `<a href="https://Ashuntefannao.com">${v}</a>`
  );
</script>
```

å°†ç”µè¯çš„åå››ä½æ¨¡ç³Šå¤„ç†

```text
let users = `
  é˜¿é¡ºç”µè¯: 12345678901
  å®¢æœç”µè¯: 98745675603
`;

let reg = /(?<=\d{7})\d+\s*/g;
users = users.replace(reg, str => {
  return "*".repeat(4);
});
console.log(users); //é˜¿é¡ºç”µè¯: 1234567**** å®¢æœç”µè¯: 9874567****
```

è·å–æ ‡é¢˜ä¸­çš„å†…å®¹

```text
let th = `<h1>é˜¿é¡ºç‰¹çƒ¦æ¼</h1>`;
let reg = /(?<=<h1.*?>).*(?=<\/h1>)/g;
console.log(th.match(reg));
```



#### (?!exp)

**é›¶å®½è´Ÿå‘å…ˆè¡Œæ–­è¨€** åé¢<font color="#16a085">ä¸èƒ½å‡ºç°</font> `exp` æŒ‡å®šçš„å†…å®¹

ä½¿ç”¨ `(?!exp)`å­—æ¯åé¢ä¸èƒ½ä¸ºä¸¤ä½æ•°å­—

```text
let str = "Ashun12";
let reg = /[a-z]+(?!\d{2})$/i;
console.table(reg.exec(str));
```

ä¸‹ä¾‹ä¸ºç”¨æˆ·åä¸­ä¸èƒ½å‡ºç°`é˜¿é¡º`

* ä¸‹ä¾‹ä¸­ï¼Œ`(?!exp)`å‰é¢ä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œå³`""`åé¢ä¸å‡†å‡ºç°é˜¿é¡ºï¼Œä¹Ÿå°±æ˜¯ä»»æ„ä¸€ä¸ªåœ°æ–¹åé¢ä¸èƒ½å‡ºç°é˜¿é¡º

```text
<body>
  <main>
    <input type="text" name="username" />
  </main>
</body>
<script>
  const input = document.querySelector(`[name="username"]`);
  input.addEventListener("keyup", function() {
    const reg = /^(?!.*é˜¿é¡º)[(\w)(\p{sc=Han})]{5,6}$/iu;
    console.log(this.value.match(reg));
  });
</script>
```



#### (?<!exp)

**é›¶å®½è´Ÿå‘åè¡Œæ–­è¨€** å‰é¢<font color="#16a085">ä¸èƒ½å‡ºç°</font>expæŒ‡å®šçš„å†…å®¹

è·å–å‰é¢ä¸æ˜¯æ•°å­—çš„å­—ç¬¦

```text
let str = "Ashun99shun";
let reg = /(?<!\d)[a-z]+/i;
console.log(reg.exec(str)); //Ashun
```

æŠŠæ‰€æœ‰ä¸æ˜¯ä»¥ `https://oss.Ashuntfn.com` å¼€å§‹çš„é™æ€èµ„æºæ›¿æ¢ä¸ºæ–°ç½‘å€

```text
<body>
  <main>
    <a href="https://www.Ashuntfn.com/1.jpg">1.jpg</a>
    <a href="https://oss.Ashuntfn.com/2.jpg">2.jpg</a>
    <a href="https://cdn.Ashuntfn.com/2.jpg">3.jpg</a>
    <a href="https://Ashuntfn.com/2.jpg">3.jpg</a>
  </main>
</body>
<script>
  const main = document.querySelector("main");
  let reg = /https:\/\/(?<!oss\.).+?(?=\/)/gi;
  main.innerHTML = main.innerHTML.replace(reg, v => {
    console.log(v);
    return "https://oss.Ashuntfn.com";
  });
</script>
```
